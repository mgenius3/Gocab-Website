exports.id=6596,exports.ids=[6596,9597,4962],exports.modules={22637:(e,a,t)=>{"use strict";t.d(a,{Z:()=>InputFileUpload});var l=t(20997);t(16689);var i=t(18442),r=t(53819),n=t.n(r),s=t(44486),o=t.n(s);let d=(0,i.styled)("input")({clip:"rect(0 0 0 0)",clipPath:"inset(50%)",height:1,overflow:"hidden",position:"absolute",bottom:0,left:0,whiteSpace:"nowrap",width:1});function InputFileUpload({handleFile:e,label:a}){return(0,l.jsxs)(n(),{component:"label",variant:"contained",startIcon:l.jsx(o(),{}),children:[a,l.jsx(d,{type:"file",onChange:e})]})}},24962:e=>{"use strict";e.exports={apiKey:"AIzaSyAX3CiXCx5ZW0N3Kh5Jn-VnGJZhSQTRRCw",authDomain:"gocab-3ba80.firebaseapp.com",databaseURL:"https://gocab-3ba80-default-rtdb.firebaseio.com",projectId:"gocab-3ba80",storageBucket:"gocab-3ba80.appspot.com",messagingSenderId:"463821131261",appId:"1:463821131261:web:e2330f002addc9d7911d94",measurementId:"G-212H0C4M2G"}},17661:(e,a,t)=>{"use strict";t.a(e,async(e,l)=>{try{t.d(a,{Z:()=>c}),t(16689);var i=t(23745),r=t(24962),n=t.n(r),s=t(63392),o=e([i,s]);[i,s]=o.then?(await o)():o;let d=(0,i.initializeApp)(n()),u=(0,s.getStorage)(d),uploadFile=async(e,a)=>{console.log(u);let t=(0,s.ref)(u,`drivers/${a}/document/${e?.name}`);try{await (0,s.uploadBytes)(t,e);let a=await (0,s.getDownloadURL)(t);return console.log("File download URL:",a),a}catch(e){return console.error("Error uploading or getting download URL:",e),null}},c=uploadFile;l()}catch(e){l(e)}})},39597:(e,a,t)=>{"use strict";t.r(a),t.d(a,{default:()=>__WEBPACK_DEFAULT_EXPORT__});var l=t(20997);t(86764);let __WEBPACK_DEFAULT_EXPORT__=function({Component:e,pageProps:a}){return l.jsx(e,{...a})}},43025:(e,a,t)=>{"use strict";t.a(e,async(e,l)=>{try{t.r(a),t.d(a,{default:()=>UploadInformation});var i=t(20997),r=t(16689),n=t.n(r),s=t(22637),o=t(23745),d=t(24962),u=t.n(d),c=t(17661),h=t(31208),f=t(34643),m=t.n(f),p=t(75857),v=t.n(p),x=t(7988),g=t.n(x),b=t(87780),j=t.n(b),y=t(59127),S=t.n(y),w=t(64745),I=t.n(w),C=t(86096),W=t.n(C),_=t(86072),N=t(11163),R=t(3590);t(88819);var U=e([o,c,h,R]);function UploadInformation({user:e}){let[a,t]=n().useState(""),[l,r]=n().useState(""),[d,f]=n().useState(""),[p,x]=n().useState(""),[b,y]=n().useState("Taxi"),[w,C]=n().useState(null),[U,E]=n().useState(""),[T,F]=n().useState(!1),A=(0,N.useRouter)(),B=(0,o.initializeApp)(u()),D=(0,h.getDatabase)(B);console.log(e);let L=(0,h.ref)(D,"drivers/"+e?.uid+"/information"),handleSubmit=async()=>{F(!0);let t=await (0,c.Z)(w,e?.uid);try{if(t&&a&&l&&d&&p&&b)(0,h.set)(L,{v_model:a,v_number:l,v_colour:d,means_of_identity:p,offers:b,documents:t,verification_status:"on review"}).then(()=>{F(!1),R.toast.info("Information submitted successfully"),A.reload()}).catch(e=>{"auth/email-already-in-use"===e.code?R.toast.error("Email address is already in use. Please use a different email."):R.toast.error("Error storing data in Firebase:",e.message),F(!1)});else throw Error("please fill all field")}catch(e){F(!1),R.toast.error(e.message)}};return(0,i.jsxs)(m(),{maxWidth:"sm",className:"container py-5",children:[i.jsx("h1",{children:"Driver Information"}),(0,i.jsxs)("form",{children:[i.jsx(v(),{variant:"outlined",fullWidth:!0,className:"py-3 mt-2",children:i.jsx(g(),{label:"Vehicle Model",variant:"outlined",required:!0,fullWidth:!0,value:a,onChange:e=>t(e.target.value)})}),(0,i.jsxs)(v(),{variant:"outlined",fullWidth:!0,className:"py-3 mt-2",children:[i.jsx(j(),{id:"ride-offers-label",className:"font-bold",children:"Ride Offers"}),(0,i.jsxs)(S(),{labelId:"ride-offers-label",id:"ride-offers",value:b,onChange:e=>y(e.target.value),children:[i.jsx(I(),{value:"Taxi",children:"Taxi Rider"}),i.jsx(I(),{value:"Bike",children:"Dispatch Rider"})]})]}),i.jsx(v(),{variant:"outlined",fullWidth:!0,className:"py-3 mt-2",children:i.jsx(g(),{label:"Vehicle Number",required:!0,variant:"outlined",fullWidth:!0,value:l,onChange:e=>r(e.target.value)})}),i.jsx(v(),{variant:"outlined",fullWidth:!0,className:"py-3 mt-2",children:i.jsx(g(),{label:"Vehicle Colour",variant:"outlined",fullWidth:!0,required:!0,value:d,onChange:e=>f(e.target.value)})}),i.jsx(v(),{variant:"outlined",fullWidth:!0,className:"py-3 mt-2",children:i.jsx(g(),{label:"Means of Identity",variant:"outlined",required:!0,fullWidth:!0,value:p,onChange:e=>x(e.target.value)})}),i.jsx(s.Z,{handleFile:e=>{let a=e.target.files[0];C(a)},label:"upload document"}),i.jsx("br",{}),i.jsx(v(),{variant:"outlined",children:i.jsx("div",{children:w?w.name:"No file selected"})}),i.jsx("br",{}),T?(0,i.jsxs)(_.LoadingButton,{loading:!0,variant:"outlined",className:"my-3 cursor-pointer",children:[" ","SUBMIT"]}):i.jsx(W(),{onClick:()=>handleSubmit(),color:"primary",variant:"outlined",className:"my-3 cursor-pointer",children:"SUBMIT"})]})]})}[o,c,h,R]=U.then?(await U)():U,l()}catch(e){l(e)}})},86764:()=>{}};