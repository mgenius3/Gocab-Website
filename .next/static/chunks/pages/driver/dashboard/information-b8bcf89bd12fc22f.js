(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3754],{63441:function(e,r,n){"use strict";var t=n(64836);r.Z=void 0;var i=t(n(64938)),a=n(85893),o=(0,i.default)((0,a.jsx)("path",{d:"M5 20h14v-2H5v2zM19 9h-4V3H9v6H5l7 7 7-7z"}),"Download");r.Z=o},74721:function(e,r,n){"use strict";var t=n(64836);r.Z=void 0;var i=t(n(64938)),a=n(85893),o=(0,i.default)((0,a.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-6h2v6zm0-8h-2V7h2v2z"}),"Info");r.Z=o},13540:function(e,r,n){"use strict";var t=n(64836);r.Z=void 0;var i=t(n(64938)),a=n(85893),o=(0,i.default)((0,a.jsx)("path",{d:"m17 7-1.41 1.41L18.17 11H8v2h10.17l-2.58 2.58L17 17l5-5zM4 5h8V3H4c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h8v-2H4V5z"}),"Logout");r.Z=o},61007:function(e,r,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/driver/dashboard/information",function(){return n(12051)}])},24962:function(e){"use strict";e.exports={apiKey:"AIzaSyAX3CiXCx5ZW0N3Kh5Jn-VnGJZhSQTRRCw",authDomain:"gocab-3ba80.firebaseapp.com",databaseURL:"https://gocab-3ba80-default-rtdb.firebaseio.com",projectId:"gocab-3ba80",storageBucket:"gocab-3ba80.appspot.com",messagingSenderId:"463821131261",appId:"1:463821131261:web:e2330f002addc9d7911d94",measurementId:"G-212H0C4M2G"}},12051:function(e,r,n){"use strict";n.r(r),n.d(r,{default:function(){return Dashboard}});var t=n(85893),i=n(67294),a=n(90948),o=n(21265),s=n(22430),l=n(66720),d=n(77533),c=n(87357),u=n(42293),h=n(10155),f=n(78462),p=n(15861),v=n(67720),x=n(93946),m=n(14948),g=n(326),j=n(19572),Z=n(65817),b=n(8822),w=n(83977),y=n(24962),I=n.n(y),S=n(51019),k=n(61202),C=n(11163),N=n(22920);n(27967);var _=n(7847),E=n(17649);let D=(0,a.ZP)(u.Z,{shouldForwardProp:e=>"open"!==e})(e=>{let{theme:r,open:n}=e;return{zIndex:r.zIndex.drawer+1,transition:r.transitions.create(["width","margin"],{easing:r.transitions.easing.sharp,duration:r.transitions.duration.leavingScreen}),...n&&{marginLeft:240,width:"calc(100% - ".concat(240,"px)"),transition:r.transitions.create(["width","margin"],{easing:r.transitions.easing.sharp,duration:r.transitions.duration.enteringScreen})}}}),T=(0,a.ZP)(d.ZP,{shouldForwardProp:e=>"open"!==e})(e=>{let{theme:r,open:n}=e;return{"& .MuiDrawer-paper":{position:"relative",whiteSpace:"nowrap",width:240,transition:r.transitions.create("width",{easing:r.transitions.easing.sharp,duration:r.transitions.duration.enteringScreen}),boxSizing:"border-box",...!n&&{overflowX:"hidden",transition:r.transitions.create("width",{easing:r.transitions.easing.sharp,duration:r.transitions.duration.leavingScreen}),width:r.spacing(7),[r.breakpoints.up("sm")]:{width:r.spacing(9)}}}}}),M=(0,o.Z)();function Dashboard(){let[e,r]=i.useState(null),n=(0,C.useRouter)(),[a,o]=i.useState(!0),[d,u]=i.useState(!0),[y]=i.useState(()=>localStorage.getItem("userToken")),F=(0,w.ZF)(I()),R=(0,S.N8)(F),fetchDriverInfo=e=>{let n=(0,S.iH)(R,"drivers/".concat(e));(0,S.jM)(n,e=>{let n=e.val();n.information?(console.log(n),console.log(n.information),r(n.information)):r("no information")})};i.useEffect(()=>{try{let e=(0,k.o)(y);u(e),fetchDriverInfo(null==e?void 0:e.uid)}catch(e){n.push("/driver/login")}},[y]);let toggleDrawer=()=>{o(!a)};return(0,t.jsx)(s.Z,{theme:M,children:(0,t.jsxs)(c.Z,{sx:{display:"flex"},children:[(0,t.jsx)(l.ZP,{}),(0,t.jsx)(D,{position:"absolute",open:a,children:(0,t.jsxs)(h.Z,{sx:{pr:"24px"},children:[(0,t.jsx)(x.Z,{edge:"start",color:"inherit","aria-label":"open drawer",onClick:toggleDrawer,sx:{marginRight:"36px",...a&&{display:"none"}},children:(0,t.jsx)(g.Z,{})}),(0,t.jsxs)(p.Z,{component:"h1",variant:"h6",color:"inherit",noWrap:!0,sx:{flexGrow:1},children:[null==d?void 0:d.name," - Dashboard"]}),(0,t.jsx)(x.Z,{color:"inherit",children:(0,t.jsx)(m.Z,{badgeContent:4,color:"secondary",children:(0,t.jsx)(Z.Z,{})})})]})}),(0,t.jsxs)(T,{variant:"permanent",open:a,children:[(0,t.jsx)(h.Z,{sx:{display:"flex",alignItems:"center",justifyContent:"flex-end",px:[1]},children:(0,t.jsx)(x.Z,{onClick:toggleDrawer,children:(0,t.jsx)(j.Z,{})})}),(0,t.jsx)(v.Z,{}),(0,t.jsxs)(f.Z,{component:"nav",children:[(0,t.jsx)(b.default,{}),(0,t.jsx)(v.Z,{sx:{my:1}})]})]}),(0,t.jsxs)(c.Z,{component:"main",sx:{backgroundColor:e=>"light"===e.palette.mode?e.palette.grey[100]:e.palette.grey[900],flexGrow:1,height:"100vh",overflow:"auto"},children:[(0,t.jsx)(h.Z,{}),e&&"no information"!==e?(0,t.jsx)(_.default,{driverInfo:e}):(0,t.jsx)(E.default,{user:d})]}),(0,t.jsx)(N.Ix,{position:"bottom-center"})]})})}},7847:function(e,r,n){"use strict";n.r(r);var t=n(85893);n(67294);var i=n(63441),a=n(90629),o=n(78462),s=n(97212),l=n(59334),d=n(69417),c=n(21737),u=n(41664),h=n.n(u);let f={display:"block",marginBottom:"12px"};r.default=e=>{let{driverInfo:r}=e;return(0,t.jsx)(a.Z,{children:(0,t.jsx)(o.Z,{children:r?(0,t.jsxs)(s.ZP,{style:f,children:[(0,t.jsx)(l.Z,{primary:"Vehicle Model",secondary:"".concat(r.v_model)}),(0,t.jsx)(l.Z,{primary:"Vehicle Number",secondary:"".concat(r.v_number)}),(0,t.jsx)(l.Z,{primary:"Vehicle Colour",secondary:"".concat(r.v_colour)}),(0,t.jsx)(l.Z,{primary:"Means of Identity",secondary:"".concat(r.means_of_identity)}),(0,t.jsx)(l.Z,{primary:"Ride Offers: ".concat(r.offers),secondary:"".concat(r.offers)}),(0,t.jsxs)(l.Z,{className:"mb-3",children:[(0,t.jsx)("p",{children:"Documents"}),(0,t.jsx)(h(),{href:r.documents,children:(0,t.jsxs)(d.Z,{variant:"outlined",children:[(0,t.jsx)(i.Z,{})," View"]})})]}),"on review"==r.verification_status?(0,t.jsx)(c.Z,{severity:"info",children:"Your application to become a driver is on review"}):"approved"==r.verification_status?(0,t.jsx)(c.Z,{severity:"success",children:"Your application to be a Gocab Driver has been approved"}):(0,t.jsx)(c.Z,{severity:"error",children:"Your application to be a Gocab Driver has been declined"})]}):null})})}},17649:function(e,r,n){"use strict";n.r(r),n.d(r,{default:function(){return UploadInformation}});var t=n(85893),i=n(67294),a=n(90948),o=n(69417),s=n(54970);let l=(0,a.ZP)("input")({clip:"rect(0 0 0 0)",clipPath:"inset(50%)",height:1,overflow:"hidden",position:"absolute",bottom:0,left:0,whiteSpace:"nowrap",width:1});function InputFileUpload(e){let{handleFile:r,label:n}=e;return(0,t.jsxs)(o.Z,{component:"label",variant:"contained",startIcon:(0,t.jsx)(s.Z,{}),children:[n,(0,t.jsx)(l,{type:"file",onChange:r})]})}var d=n(83977),c=n(24962),u=n.n(c),h=n(86650);let f=(0,d.ZF)(u()),p=(0,h.cF)(f),uploadFile=async(e,r)=>{console.log(p);let n=(0,h.iH)(p,"drivers/".concat(r,"/document/").concat(null==e?void 0:e.name));try{await (0,h.KV)(n,e);let r=await (0,h.Jt)(n);return console.log("File download URL:",r),r}catch(e){return console.error("Error uploading or getting download URL:",e),null}};var v=n(51019),x=n(65582),m=n(94054),g=n(61903),j=n(33841),Z=n(40138),b=n(18972),w=n(8987),y=n(11163),I=n(22920);function UploadInformation(e){let{user:r}=e,[n,a]=i.useState(""),[s,l]=i.useState(""),[c,h]=i.useState(""),[f,p]=i.useState(""),[S,k]=i.useState("Taxi"),[C,N]=i.useState(null),[_,E]=i.useState(""),[D,T]=i.useState(!1),M=(0,y.useRouter)(),F=(0,d.ZF)(u()),R=(0,v.N8)(F);console.log(r);let V=(0,v.iH)(R,"drivers/"+(null==r?void 0:r.uid)+"/information"),handleSubmit=async()=>{T(!0);let e=await uploadFile(C,null==r?void 0:r.uid);try{if(e&&n&&s&&c&&f&&S)(0,v.t8)(V,{v_model:n,v_number:s,v_colour:c,means_of_identity:f,offers:S,documents:e,verification_status:"on review"}).then(()=>{T(!1),I.Am.info("Information submitted successfully"),M.reload()}).catch(e=>{"auth/email-already-in-use"===e.code?I.Am.error("Email address is already in use. Please use a different email."):I.Am.error("Error storing data in Firebase:",e.message),T(!1)});else throw Error("please fill all field")}catch(e){T(!1),I.Am.error(e.message)}};return(0,t.jsxs)(x.Z,{maxWidth:"sm",className:"container py-5",children:[(0,t.jsx)("h1",{children:"Driver Information"}),(0,t.jsxs)("form",{children:[(0,t.jsx)(m.Z,{variant:"outlined",fullWidth:!0,className:"py-3 mt-2",children:(0,t.jsx)(g.Z,{label:"Vehicle Model",variant:"outlined",required:!0,fullWidth:!0,value:n,onChange:e=>a(e.target.value)})}),(0,t.jsxs)(m.Z,{variant:"outlined",fullWidth:!0,className:"py-3 mt-2",children:[(0,t.jsx)(j.Z,{id:"ride-offers-label",className:"font-bold",children:"Ride Offers"}),(0,t.jsxs)(Z.Z,{labelId:"ride-offers-label",id:"ride-offers",value:S,onChange:e=>k(e.target.value),children:[(0,t.jsx)(b.Z,{value:"Taxi",children:"Taxi Rider"}),(0,t.jsx)(b.Z,{value:"Bike",children:"Dispatch Rider"})]})]}),(0,t.jsx)(m.Z,{variant:"outlined",fullWidth:!0,className:"py-3 mt-2",children:(0,t.jsx)(g.Z,{label:"Vehicle Number",required:!0,variant:"outlined",fullWidth:!0,value:s,onChange:e=>l(e.target.value)})}),(0,t.jsx)(m.Z,{variant:"outlined",fullWidth:!0,className:"py-3 mt-2",children:(0,t.jsx)(g.Z,{label:"Vehicle Colour",variant:"outlined",fullWidth:!0,required:!0,value:c,onChange:e=>h(e.target.value)})}),(0,t.jsx)(m.Z,{variant:"outlined",fullWidth:!0,className:"py-3 mt-2",children:(0,t.jsx)(g.Z,{label:"Means of Identity",variant:"outlined",required:!0,fullWidth:!0,value:f,onChange:e=>p(e.target.value)})}),(0,t.jsx)(InputFileUpload,{handleFile:e=>{let r=e.target.files[0];N(r)},label:"upload document"}),(0,t.jsx)("br",{}),(0,t.jsx)(m.Z,{variant:"outlined",children:(0,t.jsx)("div",{children:C?C.name:"No file selected"})}),(0,t.jsx)("br",{}),D?(0,t.jsxs)(w.Z,{loading:!0,variant:"outlined",className:"my-3 cursor-pointer",children:[" ","SUBMIT"]}):(0,t.jsx)(o.Z,{onClick:()=>handleSubmit(),color:"primary",variant:"outlined",className:"my-3 cursor-pointer",children:"SUBMIT"})]})]})}n(27967)},8822:function(e,r,n){"use strict";n.r(r),n.d(r,{default:function(){return MainListItems}});var t=n(85893),i=n(67294),a=n(98619),o=n(48885),s=n(59334),l=n(74721),d=n(13540),c=n(41664),u=n.n(c);function MainListItems(){return(0,t.jsxs)(i.Fragment,{children:[(0,t.jsx)(u(),{href:"/driver/dashboard/information",children:(0,t.jsxs)(a.Z,{children:[(0,t.jsx)(o.Z,{children:(0,t.jsx)(l.Z,{})}),(0,t.jsx)(s.Z,{primary:"Information"})]})}),(0,t.jsx)(u(),{href:"/driver/login",children:(0,t.jsxs)(a.Z,{children:[(0,t.jsx)(o.Z,{children:(0,t.jsx)(d.Z,{})}),(0,t.jsx)(s.Z,{primary:"Sign Out"})]})})]})}},61202:function(e,r,n){"use strict";n.d(r,{o:function(){return jwtDecode}});let InvalidTokenError=class InvalidTokenError extends Error{};function jwtDecode(e,r){let n;if("string"!=typeof e)throw new InvalidTokenError("Invalid token specified: must be a string");r||(r={});let t=!0===r.header?0:1,i=e.split(".")[t];if("string"!=typeof i)throw new InvalidTokenError(`Invalid token specified: missing part #${t+1}`);try{n=function(e){let r=e.replace(/-/g,"+").replace(/_/g,"/");switch(r.length%4){case 0:break;case 2:r+="==";break;case 3:r+="=";break;default:throw Error("base64 string is not of the correct length")}try{var n;return n=r,decodeURIComponent(atob(n).replace(/(.)/g,(e,r)=>{let n=r.charCodeAt(0).toString(16).toUpperCase();return n.length<2&&(n="0"+n),"%"+n}))}catch(e){return atob(r)}}(i)}catch(e){throw new InvalidTokenError(`Invalid token specified: invalid base64 for part #${t+1} (${e.message})`)}try{return JSON.parse(n)}catch(e){throw new InvalidTokenError(`Invalid token specified: invalid json for part #${t+1} (${e.message})`)}}InvalidTokenError.prototype.name="InvalidTokenError"}},function(e){e.O(0,[1627,9726,7739,8961,4724,1159,1922,1737,9723,4778,2561,1903,9375,9774,2888,179],function(){return e(e.s=61007)}),_N_E=e.O()}]);