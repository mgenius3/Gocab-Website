(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8697],{45298:function(e,r,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/driver/login",function(){return t(61813)}])},39536:function(e,r){"use strict";r.Z=class{async get(e){try{let r=await fetch("/v1"+this.baseURL+e,{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(this.token)}});if(!r.ok){let e=await r.json();throw Error(e.msg)}let t=await r.json();return{response:t.msg,error:null}}catch(e){return{response:null,error:e.message}}}async post(e,r){try{let t=await fetch("/v1"+this.baseURL+e,{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(this.token)},body:JSON.stringify(r)});if(!t.ok){let e=await t.json();throw Error(e.msg)}let n=await t.json();return{response:n.msg,error:null}}catch(e){return{response:null,error:e.message}}}async delete(e){try{let r=await fetch("/v1"+this.baseURL+e,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(this.token)}});if(!r.ok){let e=await r.json();throw Error(e.msg)}let t=await r.json();return{response:t.msg,error:null}}catch(e){return{response:null,error:e.message}}}constructor(e,r=""){this.baseURL=e,this.token=r}}},61813:function(e,r,t){"use strict";t.r(r),t.d(r,{default:function(){return SignIn}});var n=t(85893),o=t(67294),s=t(69661),a=t(69417),i=t(66720),l=t(61903),c=t(66836),u=t(85071),m=t(23795),h=t(86886),d=t(87357),p=t(63845),g=t(15861),f=t(65582),x=t(21265),j=t(22430),w=t(39536),y=t(22920);t(27967);var b=t(8987),Z=t(11163);function Copyright(e){return(0,n.jsxs)(g.Z,{variant:"body2",color:"text.secondary",align:"center",...e,children:["Copyright \xa9 ",(0,n.jsx)(m.Z,{color:"inherit",href:"https://mui.com/",children:"gocab.site"})," ",new Date().getFullYear(),"."]})}let v=(0,x.Z)();function SignIn(){let e=(0,Z.useRouter)(),r=new w.Z("/driver"),[t,x]=o.useState(!1),handleSubmit=async t=>{t.preventDefault();let n=new FormData(t.currentTarget);t.preventDefault();try{x(!0);let t={email:n.get("email"),password:n.get("password")},{error:o,response:s}=await r.post("/login",t);if(o)throw Error(o);localStorage.setItem("userToken",JSON.stringify(s)),y.Am.info("successful login"),e.push("/driver/dashboard/information"),x(!1)}catch(e){y.Am.error(e.message),x(!1)}};return(0,n.jsx)(j.Z,{theme:v,children:(0,n.jsxs)(f.Z,{component:"main",maxWidth:"xs",children:[(0,n.jsx)(i.ZP,{}),(0,n.jsxs)(d.Z,{sx:{marginTop:8,display:"flex",flexDirection:"column",alignItems:"center"},children:[(0,n.jsx)(s.Z,{sx:{m:1,bgcolor:"secondary.main"},children:(0,n.jsx)(p.Z,{})}),(0,n.jsx)(g.Z,{component:"h1",variant:"h5",children:"Sign in"}),(0,n.jsxs)(d.Z,{component:"form",onSubmit:handleSubmit,noValidate:!0,sx:{mt:1},children:[(0,n.jsx)(l.Z,{margin:"normal",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email",autoFocus:!0}),(0,n.jsx)(l.Z,{margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password"}),(0,n.jsx)(c.Z,{control:(0,n.jsx)(u.Z,{value:"remember",color:"primary"}),label:"Remember me"}),(0,n.jsx)("br",{}),t?(0,n.jsxs)(b.Z,{loading:!0,variant:"outlined",className:"my-3 cursor-pointer",children:[" ","Sign In"]}):(0,n.jsx)(a.Z,{type:"submit",variant:"outlined",className:"my-3 cursor-pointer",children:"Sign In"}),(0,n.jsx)(h.ZP,{container:!0,children:(0,n.jsx)(h.ZP,{item:!0,children:(0,n.jsx)(m.Z,{href:"register",variant:"body2",children:"Don't have an account? Sign Up"})})})]})]}),(0,n.jsx)(Copyright,{sx:{mt:8,mb:4}}),(0,n.jsx)(y.Ix,{position:"bottom-center"})]})})}}},function(e){e.O(0,[9726,7739,8961,1159,9723,8205,1903,7240,9774,2888,179],function(){return e(e.s=45298)}),_N_E=e.O()}]);