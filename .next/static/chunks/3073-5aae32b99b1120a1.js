"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3073],{63441:function(e,a,t){var n=t(64836);a.Z=void 0;var r=n(t(64938)),o=t(85893),i=(0,r.default)((0,o.jsx)("path",{d:"M5 20h14v-2H5v2zM19 9h-4V3H9v6H5l7 7 7-7z"}),"Download");a.Z=i},24962:function(e){e.exports={apiKey:"AIzaSyAX3CiXCx5ZW0N3Kh5Jn-VnGJZhSQTRRCw",authDomain:"gocab-3ba80.firebaseapp.com",databaseURL:"https://gocab-3ba80-default-rtdb.firebaseio.com",projectId:"gocab-3ba80",storageBucket:"gocab-3ba80.appspot.com",messagingSenderId:"463821131261",appId:"1:463821131261:web:e2330f002addc9d7911d94",measurementId:"G-212H0C4M2G"}},39536:function(e,a){a.Z=class{async get(e){try{let a=await fetch("/v1"+this.baseURL+e,{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(this.token)}});if(!a.ok){let e=await a.json();throw Error(e.msg)}let t=await a.json();return{response:t.msg,error:null}}catch(e){return{response:null,error:e.message}}}async post(e,a){try{let t=await fetch("/v1"+this.baseURL+e,{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(this.token)},body:JSON.stringify(a)});if(!t.ok){let e=await t.json();throw Error(e.msg)}let n=await t.json();return{response:n.msg,error:null}}catch(e){return{response:null,error:e.message}}}async delete(e){try{let a=await fetch("/v1"+this.baseURL+e,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(this.token)}});if(!a.ok){let e=await a.json();throw Error(e.msg)}let t=await a.json();return{response:t.msg,error:null}}catch(e){return{response:null,error:e.message}}}constructor(e,a=""){this.baseURL=e,this.token=a}}},58461:function(e,a,t){t.r(a);var n=t(85893),r=t(67294),o=t(63441),i=t(83977),s=t(8987),l=t(24962),c=t.n(l),d=t(51019),h=t(22920);t(27967);var u=t(87357),p=t(90629),m=t(15861),f=t(78462),v=t(97212),x=t(59334),g=t(69417),j=t(21737),b=t(41664),y=t.n(b),Z=t(84808),D=t(55843),w=t(16628);let k={display:"block",marginBottom:"12px"},C={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:400,bgcolor:"background.paper",border:"2px solid #000",boxShadow:24,p:4};a.default=e=>{let{driverData:a,open:t,handleClose:l}=e,[b,R]=(0,r.useState)(!1),[S,A]=(0,r.useState)(!1),I=(0,i.ZF)(c()),T=(0,d.N8)(I),handleDriverApprovalResponse=async e=>{"approved"==e?R(!0):A(!0);let t=(0,d.iH)(T,"drivers/".concat(a.uid,"/information/verification_status"));try{await (0,d.t8)(t,"".concat(e)),"approved"==e?(R(!1),h.Am.info("Verification status updated to 'approved'")):A(!1)}catch(a){throw"approved"==e?R(!1):A(!1),Error("Error updating verification status: "+a.message)}};return(0,n.jsx)(D.Z,{"aria-labelledby":"transition-modal-title","aria-describedby":"transition-modal-description",open:t,onClose:l,closeAfterTransition:!0,slots:{backdrop:Z.Z},slotProps:{backdrop:{timeout:500}},children:(0,n.jsx)(w.Z,{in:t,children:(0,n.jsxs)(u.Z,{sx:C,children:[(0,n.jsxs)(p.Z,{children:[(0,n.jsx)(m.Z,{id:"transition-modal-title",variant:"h6",component:"h2",children:null==a?void 0:a.name}),(0,n.jsx)(f.Z,{children:(null==a?void 0:a.information)?(0,n.jsxs)(v.ZP,{style:k,children:[(0,n.jsx)(x.Z,{primary:"Vehicle Model",secondary:"".concat(null==a?void 0:a.information.v_model)}),(0,n.jsx)(x.Z,{primary:"Vehicle Number",secondary:"".concat(null==a?void 0:a.information.v_number)}),(0,n.jsx)(x.Z,{primary:"Vehicle Colour",secondary:"".concat(null==a?void 0:a.information.v_colour)}),(0,n.jsx)(x.Z,{primary:"Means of Identity",secondary:"".concat(null==a?void 0:a.information.means_of_identity)}),(0,n.jsx)(x.Z,{primary:"Ride Offers: ".concat(null==a?void 0:a.information.offers),secondary:"".concat(null==a?void 0:a.information.offers)}),(0,n.jsxs)(x.Z,{className:"mb-3",children:[(0,n.jsx)("p",{children:"Documents"}),(0,n.jsx)(y(),{href:null==a?void 0:a.information.documents,children:(0,n.jsxs)(g.Z,{variant:"outlined",children:[(0,n.jsx)(o.Z,{})," View"]})})]}),(null==a?void 0:a.information.verification_status)=="on review"?(0,n.jsxs)("div",{className:"flex justify-center",children:[b?(0,n.jsx)(s.Z,{variant:"outlined",loading:!0,style:{textTransform:"none",textTransform:"none",marginRight:"20px"},children:"Approve"}):(0,n.jsx)(g.Z,{variant:"contained",style:{background:"goldenrod",textTransform:"none",marginRight:"20px"},onClick:()=>handleDriverApprovalResponse("approved"),children:"Approve"}),S?(0,n.jsx)(s.Z,{variant:"outlined",loading:!0,style:{textTransform:"none",textTransform:"none"},children:"Decline"}):(0,n.jsx)(g.Z,{variant:"contained",style:{background:"red",textTransform:"none",textTransform:"none"},onClick:()=>handleDriverApprovalResponse("declined"),children:"Decline"})]}):(null==a?void 0:a.information.verification_status)=="approved"?(0,n.jsx)(j.Z,{severity:"success",children:"Request Approved"}):(0,n.jsx)(j.Z,{severity:"error",children:"Request Declined"})]}):null})]}),(0,n.jsx)(h.Ix,{position:"bottom-center"})]})})})}},83073:function(e,a,t){t.r(a),t.d(a,{default:function(){return AllDriversInformation}});var n=t(85893),r=t(67294),o=t(90629),i=t(7906),s=t(295),l=t(53252),c=t(72882),d=t(53184),h=t(45347),u=t(53816),p=t(39536),m=t(11163);t(49704);var f=t(61202),v=t(58461);let x=[{id:"name",label:"Name",minWidth:100},{id:"email",label:"Email",minWidth:100},{id:"address",label:"Address",minWidth:100,format:e=>e.toLocaleString("en-US")},{id:"phone",label:"Phone Number",minWidth:100}];function createData(e,a,t,n){return{name:e,email:a,address:t,phone:n}}function AllDriversInformation(){let[e]=r.useState(()=>localStorage.getItem("adminToken")),a=new p.Z("/admin",e),t=(0,m.useRouter)(),[g,j]=r.useState(0),[b,y]=r.useState(5),[Z,D]=r.useState(null),[w,k]=r.useState(null),[C,R]=r.useState(null),fetchDriverInfo=async()=>{try{let{error:e,response:t}=await a.get("/all_drivers");if(e)throw Error(e);D(t)}catch(e){console.log(e.message)}};r.useEffect(()=>{try{let a=(0,f.o)(e);R(a),fetchDriverInfo()}catch(e){console.log(e),t.push("/admin/login")}},[e]);let[S,A]=r.useState(!1),handleOpeDriverModal=e=>{k(e),A(!0)};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(o.Z,{sx:{width:"100%",overflow:"hidden"},children:[(0,n.jsx)(c.Z,{sx:{maxHeight:440},children:(0,n.jsxs)(i.Z,{stickyHeader:!0,"aria-label":"sticky table",children:[(0,n.jsx)(d.Z,{children:(0,n.jsx)(u.Z,{style:{background:"black"},children:x.map(e=>(0,n.jsx)(l.Z,{style:{minWidth:"100"},children:e.label},e.id))})}),(0,n.jsx)(s.Z,{children:Z&&Z.slice(g*b,g*b+b).map((e,a)=>(0,n.jsxs)(u.Z,{hover:!0,role:"checkbox",tabIndex:-1,onClick:()=>handleOpeDriverModal(e),children:[(0,n.jsx)(l.Z,{children:e.name}),(0,n.jsx)(l.Z,{children:e.email}),(0,n.jsx)(l.Z,{children:e.address}),(0,n.jsx)(l.Z,{children:e.phone})]},a))})]})}),(0,n.jsx)(h.Z,{rowsPerPageOptions:[5,10,25,50,100],component:"div",count:null==Z?void 0:Z.length,rowsPerPage:b,page:g,onPageChange:(e,a)=>{j(a)},onRowsPerPageChange:e=>{y(+e.target.value),j(0)}})]}),w&&(0,n.jsx)(v.default,{open:S,driverData:w,handleClose:()=>A(!1)})]})}createData("India","IN",1324171354,3287263),createData("China","CN",1403500365,9596961),createData("Italy","IT",60483973,301340),createData("United States","US",327167434,9833520),createData("Canada","CA",37602103,9984670),createData("Australia","AU",25475400,7692024),createData("Germany","DE",83019200,357578),createData("Ireland","IE",4857e3,70273),createData("Mexico","MX",126577691,1972550),createData("Japan","JP",126317e3,377973),createData("France","FR",67022e3,640679),createData("United Kingdom","GB",67545757,242495),createData("Russia","RU",146793744,17098246),createData("Nigeria","NG",200962417,923768),createData("Brazil","BR",210147125,8515767)}}]);