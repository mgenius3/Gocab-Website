(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7595],{64938:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i.createSvgIcon}});var i=n(76031)},35097:function(e,t,n){"use strict";n.d(t,{V:function(){return getDividerUtilityClass}});var i=n(1588),r=n(34867);function getDividerUtilityClass(e){return(0,r.Z)("MuiDivider",e)}let o=(0,i.Z)("MuiDivider",["root","absolute","fullWidth","inset","middle","flexItem","light","vertical","withChildren","withChildrenVertical","textAlignRight","textAlignLeft","wrapper","wrapperVertical"]);t.Z=o},84592:function(e,t,n){"use strict";n.d(t,{f:function(){return getListItemIconUtilityClass}});var i=n(1588),r=n(34867);function getListItemIconUtilityClass(e){return(0,r.Z)("MuiListItemIcon",e)}let o=(0,i.Z)("MuiListItemIcon",["root","alignItemsFlexStart"]);t.Z=o},26336:function(e,t,n){"use strict";n.d(t,{L:function(){return getListItemTextUtilityClass}});var i=n(1588),r=n(34867);function getListItemTextUtilityClass(e){return(0,r.Z)("MuiListItemText",e)}let o=(0,i.Z)("MuiListItemText",["root","multiline","dense","inset","primary","secondary"]);t.Z=o},88169:function(e,t,n){"use strict";n.d(t,{Z:function(){return createSvgIcon}});var i=n(87462),r=n(67294),o=n(63366),l=n(63961),a=n(94780),u=n(98216),s=n(71657),c=n(90948),d=n(1588),f=n(34867);function getSvgIconUtilityClass(e){return(0,f.Z)("MuiSvgIcon",e)}(0,d.Z)("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);var m=n(85893);let p=["children","className","color","component","fontSize","htmlColor","inheritViewBox","titleAccess","viewBox"],useUtilityClasses=e=>{let{color:t,fontSize:n,classes:i}=e,r={root:["root","inherit"!==t&&`color${(0,u.Z)(t)}`,`fontSize${(0,u.Z)(n)}`]};return(0,a.Z)(r,getSvgIconUtilityClass,i)},h=(0,c.ZP)("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:n}=e;return[t.root,"inherit"!==n.color&&t[`color${(0,u.Z)(n.color)}`],t[`fontSize${(0,u.Z)(n.fontSize)}`]]}})(({theme:e,ownerState:t})=>{var n,i,r,o,l,a,u,s,c,d,f,m,p;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:t.hasSvgAsChild?void 0:"currentColor",flexShrink:0,transition:null==(n=e.transitions)||null==(i=n.create)?void 0:i.call(n,"fill",{duration:null==(r=e.transitions)||null==(r=r.duration)?void 0:r.shorter}),fontSize:({inherit:"inherit",small:(null==(o=e.typography)||null==(l=o.pxToRem)?void 0:l.call(o,20))||"1.25rem",medium:(null==(a=e.typography)||null==(u=a.pxToRem)?void 0:u.call(a,24))||"1.5rem",large:(null==(s=e.typography)||null==(c=s.pxToRem)?void 0:c.call(s,35))||"2.1875rem"})[t.fontSize],color:null!=(d=null==(f=(e.vars||e).palette)||null==(f=f[t.color])?void 0:f.main)?d:({action:null==(m=(e.vars||e).palette)||null==(m=m.action)?void 0:m.active,disabled:null==(p=(e.vars||e).palette)||null==(p=p.action)?void 0:p.disabled,inherit:void 0})[t.color]}}),v=r.forwardRef(function(e,t){let n=(0,s.Z)({props:e,name:"MuiSvgIcon"}),{children:a,className:u,color:c="inherit",component:d="svg",fontSize:f="medium",htmlColor:v,inheritViewBox:g=!1,titleAccess:Z,viewBox:x="0 0 24 24"}=n,b=(0,o.Z)(n,p),y=r.isValidElement(a)&&"svg"===a.type,S=(0,i.Z)({},n,{color:c,component:d,fontSize:f,instanceFontSize:e.fontSize,inheritViewBox:g,viewBox:x,hasSvgAsChild:y}),I={};g||(I.viewBox=x);let C=useUtilityClasses(S);return(0,m.jsxs)(h,(0,i.Z)({as:d,className:(0,l.Z)(C.root,u),focusable:"false",color:v,"aria-hidden":!Z||void 0,role:Z?"img":void 0,ref:t},I,b,y&&a.props,{ownerState:S,children:[y?a.props.children:a,Z?(0,m.jsx)("title",{children:Z}):null]}))});function createSvgIcon(e,t){function Component(n,r){return(0,m.jsx)(v,(0,i.Z)({"data-testid":`${t}Icon`,ref:r},n,{children:e}))}return Component.muiName=v.muiName,r.memo(r.forwardRef(Component))}v.muiName="SvgIcon"},76031:function(e,t,n){"use strict";n.r(t),n.d(t,{capitalize:function(){return r.Z},createChainedFunction:function(){return o},createSvgIcon:function(){return l.Z},debounce:function(){return a.Z},deprecatedPropType:function(){return utils_deprecatedPropType},isMuiElement:function(){return u.Z},ownerDocument:function(){return s.Z},ownerWindow:function(){return c.Z},requirePropFactory:function(){return utils_requirePropFactory},setRef:function(){return d},unstable_ClassNameGenerator:function(){return Z},unstable_useEnhancedEffect:function(){return f.Z},unstable_useId:function(){return m.Z},unsupportedProp:function(){return utils_unsupportedProp},useControlled:function(){return p.Z},useEventCallback:function(){return h.Z},useForkRef:function(){return v.Z},useIsFocusVisible:function(){return g.Z}});var i=n(37078),r=n(98216),o=n(49064).Z,l=n(88169),a=n(57144),utils_deprecatedPropType=function(e,t){return()=>null},u=n(71579),s=n(8038),c=n(5340);n(87462);var utils_requirePropFactory=function(e,t){return()=>null},d=n(7960).Z,f=n(58974),m=n(27909),utils_unsupportedProp=function(e,t,n,i,r){return null},p=n(72021),h=n(2068),v=n(51705),g=n(18791);let Z={configure:e=>{i.Z.configure(e)}}},72402:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/driver/dashboard/information/upload_information",function(){return n(17649)}])},24962:function(e){"use strict";e.exports={apiKey:"AIzaSyAX3CiXCx5ZW0N3Kh5Jn-VnGJZhSQTRRCw",authDomain:"gocab-3ba80.firebaseapp.com",databaseURL:"https://gocab-3ba80-default-rtdb.firebaseio.com",projectId:"gocab-3ba80",storageBucket:"gocab-3ba80.appspot.com",messagingSenderId:"463821131261",appId:"1:463821131261:web:e2330f002addc9d7911d94",measurementId:"G-212H0C4M2G"}},17649:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return UploadInformation}});var i=n(85893),r=n(67294),o=n(90948),l=n(69417),a=n(54970);let u=(0,o.ZP)("input")({clip:"rect(0 0 0 0)",clipPath:"inset(50%)",height:1,overflow:"hidden",position:"absolute",bottom:0,left:0,whiteSpace:"nowrap",width:1});function InputFileUpload(e){let{handleFile:t,label:n}=e;return(0,i.jsxs)(l.Z,{component:"label",variant:"contained",startIcon:(0,i.jsx)(a.Z,{}),children:[n,(0,i.jsx)(u,{type:"file",onChange:t})]})}var s=n(83977),c=n(24962),d=n.n(c),f=n(86650);let m=(0,s.ZF)(d()),p=(0,f.cF)(m),uploadFile=async(e,t)=>{console.log(p);let n=(0,f.iH)(p,"drivers/".concat(t,"/document/").concat(null==e?void 0:e.name));try{await (0,f.KV)(n,e);let t=await (0,f.Jt)(n);return console.log("File download URL:",t),t}catch(e){return console.error("Error uploading or getting download URL:",e),null}};var h=n(51019),v=n(65582),g=n(94054),Z=n(61903),x=n(33841),b=n(40138),y=n(18972),S=n(8987),I=n(11163),C=n(22920);function UploadInformation(e){let{user:t}=e,[n,o]=r.useState(""),[a,u]=r.useState(""),[c,f]=r.useState(""),[m,p]=r.useState(""),[w,j]=r.useState("Taxi"),[_,N]=r.useState(null),[M,R]=r.useState(""),[U,F]=r.useState(!1),P=(0,I.useRouter)(),T=(0,s.ZF)(d()),E=(0,h.N8)(T);console.log(t);let z=(0,h.iH)(E,"drivers/"+(null==t?void 0:t.uid)+"/information"),handleSubmit=async()=>{F(!0);let e=await uploadFile(_,null==t?void 0:t.uid);try{if(e&&n&&a&&c&&m&&w)(0,h.t8)(z,{v_model:n,v_number:a,v_colour:c,means_of_identity:m,offers:w,documents:e,verification_status:"on review"}).then(()=>{F(!1),C.Am.info("Information submitted successfully"),P.reload()}).catch(e=>{"auth/email-already-in-use"===e.code?C.Am.error("Email address is already in use. Please use a different email."):C.Am.error("Error storing data in Firebase:",e.message),F(!1)});else throw Error("please fill all field")}catch(e){F(!1),C.Am.error(e.message)}};return(0,i.jsxs)(v.Z,{maxWidth:"sm",className:"container py-5",children:[(0,i.jsx)("h1",{children:"Driver Information"}),(0,i.jsxs)("form",{children:[(0,i.jsx)(g.Z,{variant:"outlined",fullWidth:!0,className:"py-3 mt-2",children:(0,i.jsx)(Z.Z,{label:"Vehicle Model",variant:"outlined",required:!0,fullWidth:!0,value:n,onChange:e=>o(e.target.value)})}),(0,i.jsxs)(g.Z,{variant:"outlined",fullWidth:!0,className:"py-3 mt-2",children:[(0,i.jsx)(x.Z,{id:"ride-offers-label",className:"font-bold",children:"Ride Offers"}),(0,i.jsxs)(b.Z,{labelId:"ride-offers-label",id:"ride-offers",value:w,onChange:e=>j(e.target.value),children:[(0,i.jsx)(y.Z,{value:"Taxi",children:"Taxi Rider"}),(0,i.jsx)(y.Z,{value:"Bike",children:"Dispatch Rider"})]})]}),(0,i.jsx)(g.Z,{variant:"outlined",fullWidth:!0,className:"py-3 mt-2",children:(0,i.jsx)(Z.Z,{label:"Vehicle Number",required:!0,variant:"outlined",fullWidth:!0,value:a,onChange:e=>u(e.target.value)})}),(0,i.jsx)(g.Z,{variant:"outlined",fullWidth:!0,className:"py-3 mt-2",children:(0,i.jsx)(Z.Z,{label:"Vehicle Colour",variant:"outlined",fullWidth:!0,required:!0,value:c,onChange:e=>f(e.target.value)})}),(0,i.jsx)(g.Z,{variant:"outlined",fullWidth:!0,className:"py-3 mt-2",children:(0,i.jsx)(Z.Z,{label:"Means of Identity",variant:"outlined",required:!0,fullWidth:!0,value:m,onChange:e=>p(e.target.value)})}),(0,i.jsx)(InputFileUpload,{handleFile:e=>{let t=e.target.files[0];N(t)},label:"upload document"}),(0,i.jsx)("br",{}),(0,i.jsx)(g.Z,{variant:"outlined",children:(0,i.jsx)("div",{children:_?_.name:"No file selected"})}),(0,i.jsx)("br",{}),U?(0,i.jsxs)(S.Z,{loading:!0,variant:"outlined",className:"my-3 cursor-pointer",children:[" ","SUBMIT"]}):(0,i.jsx)(l.Z,{onClick:()=>handleSubmit(),color:"primary",variant:"outlined",className:"my-3 cursor-pointer",children:"SUBMIT"})]})]})}n(27967)},64836:function(e){e.exports=function(e){return e&&e.__esModule?e:{default:e}},e.exports.__esModule=!0,e.exports.default=e.exports}},function(e){e.O(0,[1627,9726,7739,8961,1159,1922,9723,1903,9375,9774,2888,179],function(){return e(e.s=72402)}),_N_E=e.O()}]);