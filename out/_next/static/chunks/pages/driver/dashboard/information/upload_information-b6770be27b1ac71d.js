(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7595],{64938:function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.createSvgIcon}});var r=t(76031)},88169:function(e,n,t){"use strict";t.d(n,{Z:function(){return createSvgIcon}});var r=t(87462),i=t(67294),o=t(63366),l=t(63961),a=t(94780),u=t(98216),s=t(71657),c=t(90948),d=t(1588),p=t(34867);function getSvgIconUtilityClass(e){return(0,p.Z)("MuiSvgIcon",e)}(0,d.Z)("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);var f=t(85893);let m=["children","className","color","component","fontSize","htmlColor","inheritViewBox","titleAccess","viewBox"],useUtilityClasses=e=>{let{color:n,fontSize:t,classes:r}=e,i={root:["root","inherit"!==n&&`color${(0,u.Z)(n)}`,`fontSize${(0,u.Z)(t)}`]};return(0,a.Z)(i,getSvgIconUtilityClass,r)},h=(0,c.ZP)("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(e,n)=>{let{ownerState:t}=e;return[n.root,"inherit"!==t.color&&n[`color${(0,u.Z)(t.color)}`],n[`fontSize${(0,u.Z)(t.fontSize)}`]]}})(({theme:e,ownerState:n})=>{var t,r,i,o,l,a,u,s,c,d,p,f,m;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:n.hasSvgAsChild?void 0:"currentColor",flexShrink:0,transition:null==(t=e.transitions)||null==(r=t.create)?void 0:r.call(t,"fill",{duration:null==(i=e.transitions)||null==(i=i.duration)?void 0:i.shorter}),fontSize:({inherit:"inherit",small:(null==(o=e.typography)||null==(l=o.pxToRem)?void 0:l.call(o,20))||"1.25rem",medium:(null==(a=e.typography)||null==(u=a.pxToRem)?void 0:u.call(a,24))||"1.5rem",large:(null==(s=e.typography)||null==(c=s.pxToRem)?void 0:c.call(s,35))||"2.1875rem"})[n.fontSize],color:null!=(d=null==(p=(e.vars||e).palette)||null==(p=p[n.color])?void 0:p.main)?d:({action:null==(f=(e.vars||e).palette)||null==(f=f.action)?void 0:f.active,disabled:null==(m=(e.vars||e).palette)||null==(m=m.action)?void 0:m.disabled,inherit:void 0})[n.color]}}),v=i.forwardRef(function(e,n){let t=(0,s.Z)({props:e,name:"MuiSvgIcon"}),{children:a,className:u,color:c="inherit",component:d="svg",fontSize:p="medium",htmlColor:v,inheritViewBox:g=!1,titleAccess:x,viewBox:Z="0 0 24 24"}=t,b=(0,o.Z)(t,m),S=i.isValidElement(a)&&"svg"===a.type,y=(0,r.Z)({},t,{color:c,component:d,fontSize:p,instanceFontSize:e.fontSize,inheritViewBox:g,viewBox:Z,hasSvgAsChild:S}),j={};g||(j.viewBox=Z);let I=useUtilityClasses(y);return(0,f.jsxs)(h,(0,r.Z)({as:d,className:(0,l.Z)(I.root,u),focusable:"false",color:v,"aria-hidden":!x||void 0,role:x?"img":void 0,ref:n},j,b,S&&a.props,{ownerState:y,children:[S?a.props.children:a,x?(0,f.jsx)("title",{children:x}):null]}))});function createSvgIcon(e,n){function Component(t,i){return(0,f.jsx)(v,(0,r.Z)({"data-testid":`${n}Icon`,ref:i},t,{children:e}))}return Component.muiName=v.muiName,i.memo(i.forwardRef(Component))}v.muiName="SvgIcon"},76031:function(e,n,t){"use strict";t.r(n),t.d(n,{capitalize:function(){return i.Z},createChainedFunction:function(){return o},createSvgIcon:function(){return l.Z},debounce:function(){return a.Z},deprecatedPropType:function(){return utils_deprecatedPropType},isMuiElement:function(){return u.Z},ownerDocument:function(){return s.Z},ownerWindow:function(){return c.Z},requirePropFactory:function(){return utils_requirePropFactory},setRef:function(){return d},unstable_ClassNameGenerator:function(){return x},unstable_useEnhancedEffect:function(){return p.Z},unstable_useId:function(){return f.Z},unsupportedProp:function(){return utils_unsupportedProp},useControlled:function(){return m.Z},useEventCallback:function(){return h.Z},useForkRef:function(){return v.Z},useIsFocusVisible:function(){return g.Z}});var r=t(37078),i=t(98216),o=t(49064).Z,l=t(88169),a=t(57144),utils_deprecatedPropType=function(e,n){return()=>null},u=t(71579),s=t(8038),c=t(5340);t(87462);var utils_requirePropFactory=function(e,n){return()=>null},d=t(7960).Z,p=t(58974),f=t(27909),utils_unsupportedProp=function(e,n,t,r,i){return null},m=t(72021),h=t(2068),v=t(51705),g=t(18791);let x={configure:e=>{r.Z.configure(e)}}},72402:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/driver/dashboard/information/upload_information",function(){return t(17649)}])},24962:function(e){"use strict";e.exports={apiKey:"AIzaSyAX3CiXCx5ZW0N3Kh5Jn-VnGJZhSQTRRCw",authDomain:"gocab-3ba80.firebaseapp.com",databaseURL:"https://gocab-3ba80-default-rtdb.firebaseio.com",projectId:"gocab-3ba80",storageBucket:"gocab-3ba80.appspot.com",messagingSenderId:"463821131261",appId:"1:463821131261:web:e2330f002addc9d7911d94",measurementId:"G-212H0C4M2G"}},17649:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return UploadInformation}});var r=t(85893),i=t(67294),o=t(90948),l=t(69417),a=t(54970);let u=(0,o.ZP)("input")({clip:"rect(0 0 0 0)",clipPath:"inset(50%)",height:1,overflow:"hidden",position:"absolute",bottom:0,left:0,whiteSpace:"nowrap",width:1});function InputFileUpload(e){let{handleFile:n,label:t}=e;return(0,r.jsxs)(l.Z,{component:"label",variant:"contained",startIcon:(0,r.jsx)(a.Z,{}),children:[t,(0,r.jsx)(u,{type:"file",onChange:n})]})}var s=t(83977),c=t(24962),d=t.n(c),p=t(86650);let f=(0,s.ZF)(d()),m=(0,p.cF)(f),uploadFile=async(e,n)=>{console.log(m);let t=(0,p.iH)(m,"drivers/".concat(n,"/document/").concat(null==e?void 0:e.name));try{await (0,p.KV)(t,e);let n=await (0,p.Jt)(t);return console.log("File download URL:",n),n}catch(e){return console.error("Error uploading or getting download URL:",e),null}};var h=t(51019),v=t(65582),g=t(94054),x=t(61903),Z=t(33841),b=t(40138),S=t(18972),y=t(8987),j=t(11163),I=t(22920);function UploadInformation(e){let{user:n}=e,[t,o]=i.useState(""),[a,u]=i.useState(""),[c,p]=i.useState(""),[f,m]=i.useState(""),[w,_]=i.useState("Taxi"),[C,N]=i.useState(null),[T,P]=i.useState(""),[R,F]=i.useState(!1),E=(0,j.useRouter)(),z=(0,s.ZF)(d()),M=(0,h.N8)(z);console.log(n);let U=(0,h.iH)(M,"drivers/"+(null==n?void 0:n.uid)+"/information"),handleSubmit=async()=>{F(!0);let e=await uploadFile(C,null==n?void 0:n.uid);try{if(e&&t&&a&&c&&f&&w)(0,h.t8)(U,{v_model:t,v_number:a,v_colour:c,means_of_identity:f,offers:w,documents:e,verification_status:"on review"}).then(()=>{F(!1),I.Am.info("Information submitted successfully"),E.reload()}).catch(e=>{"auth/email-already-in-use"===e.code?I.Am.error("Email address is already in use. Please use a different email."):I.Am.error("Error storing data in Firebase:",e.message),F(!1)});else throw Error("please fill all field")}catch(e){F(!1),I.Am.error(e.message)}};return(0,r.jsxs)(v.Z,{maxWidth:"sm",className:"container py-5",children:[(0,r.jsx)("h1",{children:"Driver Information"}),(0,r.jsxs)("form",{children:[(0,r.jsx)(g.Z,{variant:"outlined",fullWidth:!0,style:{padding:"10px 0px!important",marginTop:"10px"},children:(0,r.jsx)(x.Z,{label:"Vehicle Model",variant:"outlined",required:!0,fullWidth:!0,value:t,onChange:e=>o(e.target.value)})}),(0,r.jsx)("br",{}),(0,r.jsxs)(g.Z,{variant:"outlined",fullWidth:!0,style:{padding:"10px 0px!important",marginTop:"10px"},children:[(0,r.jsx)(Z.Z,{id:"ride-offers-label",className:"font-bold",children:"Ride Offers"}),(0,r.jsxs)(b.Z,{labelId:"ride-offers-label",id:"ride-offers",value:w,onChange:e=>_(e.target.value),children:[(0,r.jsx)(S.Z,{value:"Taxi",children:"Taxi Rider"}),(0,r.jsx)(S.Z,{value:"Bike",children:"Dispatch Rider"})]})]}),(0,r.jsx)(g.Z,{variant:"outlined",fullWidth:!0,style:{padding:"10px 0px!important",marginTop:"10px"},children:(0,r.jsx)(x.Z,{label:"Vehicle Number",required:!0,variant:"outlined",fullWidth:!0,value:a,onChange:e=>u(e.target.value)})}),(0,r.jsx)(g.Z,{variant:"outlined",fullWidth:!0,style:{padding:"10px 0px!important",marginTop:"10px"},children:(0,r.jsx)(x.Z,{label:"Vehicle Colour",variant:"outlined",fullWidth:!0,required:!0,value:c,onChange:e=>p(e.target.value)})}),(0,r.jsx)(g.Z,{variant:"outlined",fullWidth:!0,style:{padding:"10px 0px!important",marginTop:"10px"},children:(0,r.jsx)(x.Z,{label:"Means of Identity",variant:"outlined",required:!0,fullWidth:!0,value:f,onChange:e=>m(e.target.value)})}),(0,r.jsx)(InputFileUpload,{handleFile:e=>{let n=e.target.files[0];N(n)},label:"upload document"}),(0,r.jsx)("br",{}),(0,r.jsx)(g.Z,{variant:"outlined",children:(0,r.jsx)("div",{children:C?C.name:"No file selected"})}),(0,r.jsx)("br",{}),R?(0,r.jsxs)(y.Z,{loading:!0,variant:"outlined",className:"my-3 cursor-pointer",children:[" ","SUBMIT"]}):(0,r.jsx)(l.Z,{onClick:()=>handleSubmit(),color:"primary",variant:"outlined",className:"my-3 cursor-pointer",children:"SUBMIT"})]})]})}t(27967)},64836:function(e){e.exports=function(e){return e&&e.__esModule?e:{default:e}},e.exports.__esModule=!0,e.exports.default=e.exports}},function(e){e.O(0,[1627,9726,7739,8961,1159,9717,9723,1903,9375,9774,2888,179],function(){return e(e.s=72402)}),_N_E=e.O()}]);