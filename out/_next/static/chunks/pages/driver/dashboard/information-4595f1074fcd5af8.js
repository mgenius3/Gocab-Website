(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3754],{63441:function(e,r,t){"use strict";var n=t(64836);r.Z=void 0;var i=n(t(64938)),a=t(85893),o=(0,i.default)((0,a.jsx)("path",{d:"M5 20h14v-2H5v2zM19 9h-4V3H9v6H5l7 7 7-7z"}),"Download");r.Z=o},74721:function(e,r,t){"use strict";var n=t(64836);r.Z=void 0;var i=n(t(64938)),a=t(85893),o=(0,i.default)((0,a.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-6h2v6zm0-8h-2V7h2v2z"}),"Info");r.Z=o},13540:function(e,r,t){"use strict";var n=t(64836);r.Z=void 0;var i=n(t(64938)),a=t(85893),o=(0,i.default)((0,a.jsx)("path",{d:"m17 7-1.41 1.41L18.17 11H8v2h10.17l-2.58 2.58L17 17l5-5zM4 5h8V3H4c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h8v-2H4V5z"}),"Logout");r.Z=o},10155:function(e,r,t){"use strict";t.d(r,{Z:function(){return v}});var n=t(63366),i=t(87462),a=t(67294),o=t(63961),s=t(94780),l=t(71657),d=t(90948),c=t(1588),u=t(34867);function getToolbarUtilityClass(e){return(0,u.Z)("MuiToolbar",e)}(0,c.Z)("MuiToolbar",["root","gutters","regular","dense"]);var p=t(85893);let h=["className","component","disableGutters","variant"],useUtilityClasses=e=>{let{classes:r,disableGutters:t,variant:n}=e;return(0,s.Z)({root:["root",!t&&"gutters",n]},getToolbarUtilityClass,r)},f=(0,d.ZP)("div",{name:"MuiToolbar",slot:"Root",overridesResolver:(e,r)=>{let{ownerState:t}=e;return[r.root,!t.disableGutters&&r.gutters,r[t.variant]]}})(({theme:e,ownerState:r})=>(0,i.Z)({position:"relative",display:"flex",alignItems:"center"},!r.disableGutters&&{paddingLeft:e.spacing(2),paddingRight:e.spacing(2),[e.breakpoints.up("sm")]:{paddingLeft:e.spacing(3),paddingRight:e.spacing(3)}},"dense"===r.variant&&{minHeight:48}),({theme:e,ownerState:r})=>"regular"===r.variant&&e.mixins.toolbar),x=a.forwardRef(function(e,r){let t=(0,l.Z)({props:e,name:"MuiToolbar"}),{className:a,component:s="div",disableGutters:d=!1,variant:c="regular"}=t,u=(0,n.Z)(t,h),x=(0,i.Z)({},t,{component:s,disableGutters:d,variant:c}),v=useUtilityClasses(x);return(0,p.jsx)(f,(0,i.Z)({as:s,className:(0,o.Z)(v.root,a),ref:r,ownerState:x},u))});var v=x},61007:function(e,r,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/driver/dashboard/information",function(){return t(12051)}])},24962:function(e){"use strict";e.exports={apiKey:"AIzaSyAX3CiXCx5ZW0N3Kh5Jn-VnGJZhSQTRRCw",authDomain:"gocab-3ba80.firebaseapp.com",databaseURL:"https://gocab-3ba80-default-rtdb.firebaseio.com",projectId:"gocab-3ba80",storageBucket:"gocab-3ba80.appspot.com",messagingSenderId:"463821131261",appId:"1:463821131261:web:e2330f002addc9d7911d94",measurementId:"G-212H0C4M2G"}},12051:function(e,r,t){"use strict";t.r(r),t.d(r,{default:function(){return Dashboard}});var n=t(85893),i=t(67294),a=t(90948),o=t(21265),s=t(22430),l=t(66720),d=t(77533),c=t(87357),u=t(42293),p=t(10155),h=t(78462),f=t(15861),x=t(67720),v=t(93946),g=t(326),m=t(19572),j=t(8822),Z=t(9008),b=t.n(Z),w=t(83977),y=t(24962),I=t.n(y),S=t(51019),k=t(61202),C=t(11163),T=t(22920);t(27967);var _=t(7847),E=t(17649);let M=(0,a.ZP)(u.Z,{shouldForwardProp:e=>"open"!==e})(e=>{let{theme:r,open:t}=e;return{zIndex:r.zIndex.drawer+1,transition:r.transitions.create(["width","margin"],{easing:r.transitions.easing.sharp,duration:r.transitions.duration.leavingScreen}),...t&&{marginLeft:240,width:"calc(100% - ".concat(240,"px)"),transition:r.transitions.create(["width","margin"],{easing:r.transitions.easing.sharp,duration:r.transitions.duration.enteringScreen})}}}),N=(0,a.ZP)(d.ZP,{shouldForwardProp:e=>"open"!==e})(e=>{let{theme:r,open:t}=e;return{"& .MuiDrawer-paper":{position:"relative",whiteSpace:"nowrap",width:240,transition:r.transitions.create("width",{easing:r.transitions.easing.sharp,duration:r.transitions.duration.enteringScreen}),boxSizing:"border-box",...!t&&{overflowX:"hidden",transition:r.transitions.create("width",{easing:r.transitions.easing.sharp,duration:r.transitions.duration.leavingScreen}),width:r.spacing(7),[r.breakpoints.up("sm")]:{width:r.spacing(9)}}}}}),D=(0,o.Z)();function Dashboard(){let[e,r]=i.useState(null),t=(0,C.useRouter)(),[a,o]=i.useState(!0),[d,u]=i.useState(!0),[Z]=i.useState(()=>localStorage.getItem("userToken")),y=(0,w.ZF)(I()),R=(0,S.N8)(y),fetchDriverInfo=e=>{let t=(0,S.iH)(R,"drivers/".concat(e));(0,S.jM)(t,e=>{let t=e.val();t.information?(console.log(t),console.log(t.information),r(t.information)):r("no information")})};i.useEffect(()=>{try{let e=(0,k.o)(Z);u(e),fetchDriverInfo(null==e?void 0:e.uid)}catch(e){t.push("/driver/login")}},[Z]);let toggleDrawer=()=>{o(!a)};return(0,n.jsxs)(s.Z,{theme:D,children:[(0,n.jsxs)(b(),{children:[(0,n.jsx)("title",{children:"information"}),(0,n.jsx)("link",{rel:"icon",href:"/images/icon.png"})]}),(0,n.jsxs)(c.Z,{sx:{display:"flex"},children:[(0,n.jsx)(l.ZP,{}),(0,n.jsx)(M,{position:"absolute",open:a,children:(0,n.jsxs)(p.Z,{sx:{pr:"24px"},children:[(0,n.jsx)(v.Z,{edge:"start",color:"inherit","aria-label":"open drawer",onClick:toggleDrawer,sx:{marginRight:"36px",...a&&{display:"none"}},children:(0,n.jsx)(g.Z,{})}),(0,n.jsxs)(f.Z,{component:"h1",variant:"h6",color:"inherit",noWrap:!0,sx:{flexGrow:1},children:[null==d?void 0:d.name," - Dashboard"]})]})}),(0,n.jsxs)(N,{variant:"permanent",open:a,children:[(0,n.jsx)(p.Z,{sx:{display:"flex",alignItems:"center",justifyContent:"flex-end",px:[1]},children:(0,n.jsx)(v.Z,{onClick:toggleDrawer,children:(0,n.jsx)(m.Z,{})})}),(0,n.jsx)(x.Z,{}),(0,n.jsxs)(h.Z,{component:"nav",children:[(0,n.jsx)(j.default,{}),(0,n.jsx)(x.Z,{sx:{my:1}})]})]}),(0,n.jsxs)(c.Z,{component:"main",sx:{backgroundColor:e=>"light"===e.palette.mode?e.palette.grey[100]:e.palette.grey[900],flexGrow:1,height:"100vh",overflow:"auto"},children:[(0,n.jsx)(p.Z,{}),e&&"no information"!==e?(0,n.jsx)(_.default,{driverInfo:e}):(0,n.jsx)(E.default,{user:d})]}),(0,n.jsx)(T.Ix,{position:"bottom-center"})]})]})}},7847:function(e,r,t){"use strict";t.r(r);var n=t(85893);t(67294);var i=t(63441),a=t(90629),o=t(78462),s=t(97212),l=t(59334),d=t(69417),c=t(21737),u=t(41664),p=t.n(u);let h={display:"block",marginBottom:"12px"};r.default=e=>{let{driverInfo:r}=e;return(0,n.jsx)(a.Z,{children:(0,n.jsx)(o.Z,{children:r?(0,n.jsxs)(s.ZP,{style:h,children:[(0,n.jsx)(l.Z,{primary:"Vehicle Model",secondary:"".concat(r.v_model)}),(0,n.jsx)(l.Z,{primary:"Vehicle Number",secondary:"".concat(r.v_number)}),(0,n.jsx)(l.Z,{primary:"Vehicle Colour",secondary:"".concat(r.v_colour)}),(0,n.jsx)(l.Z,{primary:"Means of Identity",secondary:"".concat(r.means_of_identity)}),(0,n.jsx)(l.Z,{primary:"Ride Offers: ".concat(r.offers),secondary:"".concat(r.offers)}),(0,n.jsxs)(l.Z,{className:"mb-3",children:[(0,n.jsx)("p",{children:"Documents"}),(0,n.jsx)(p(),{href:r.documents,children:(0,n.jsxs)(d.Z,{variant:"outlined",children:[(0,n.jsx)(i.Z,{})," View"]})})]}),"on review"==r.verification_status?(0,n.jsx)(c.Z,{severity:"info",children:"Your application to become a driver is on review"}):"approved"==r.verification_status?(0,n.jsx)(c.Z,{severity:"success",children:"Your application to be a Gocab Driver has been approved"}):(0,n.jsx)(c.Z,{severity:"error",children:"Your application to be a Gocab Driver has been declined"})]}):null})})}},17649:function(e,r,t){"use strict";t.r(r),t.d(r,{default:function(){return UploadInformation}});var n=t(85893),i=t(67294),a=t(90948),o=t(69417),s=t(54970);let l=(0,a.ZP)("input")({clip:"rect(0 0 0 0)",clipPath:"inset(50%)",height:1,overflow:"hidden",position:"absolute",bottom:0,left:0,whiteSpace:"nowrap",width:1});function InputFileUpload(e){let{handleFile:r,label:t}=e;return(0,n.jsxs)(o.Z,{component:"label",variant:"contained",startIcon:(0,n.jsx)(s.Z,{}),children:[t,(0,n.jsx)(l,{type:"file",onChange:r})]})}var d=t(83977),c=t(24962),u=t.n(c),p=t(86650);let h=(0,d.ZF)(u()),f=(0,p.cF)(h),uploadFile=async(e,r)=>{console.log(f);let t=(0,p.iH)(f,"drivers/".concat(r,"/document/").concat(null==e?void 0:e.name));try{await (0,p.KV)(t,e);let r=await (0,p.Jt)(t);return console.log("File download URL:",r),r}catch(e){return console.error("Error uploading or getting download URL:",e),null}};var x=t(51019),v=t(65582),g=t(94054),m=t(61903),j=t(33841),Z=t(40138),b=t(18972),w=t(8987),y=t(11163),I=t(22920);function UploadInformation(e){let{user:r}=e,[t,a]=i.useState(""),[s,l]=i.useState(""),[c,p]=i.useState(""),[h,f]=i.useState(""),[S,k]=i.useState("Taxi"),[C,T]=i.useState(null),[_,E]=i.useState(""),[M,N]=i.useState(!1),D=(0,y.useRouter)(),R=(0,d.ZF)(u()),U=(0,x.N8)(R);console.log(r);let F=(0,x.iH)(U,"drivers/"+(null==r?void 0:r.uid)+"/information"),handleSubmit=async()=>{N(!0);let e=await uploadFile(C,null==r?void 0:r.uid);try{if(e&&t&&s&&c&&h&&S)(0,x.t8)(F,{v_model:t,v_number:s,v_colour:c,means_of_identity:h,offers:S,documents:e,verification_status:"on review"}).then(()=>{N(!1),I.Am.info("Information submitted successfully"),D.reload()}).catch(e=>{"auth/email-already-in-use"===e.code?I.Am.error("Email address is already in use. Please use a different email."):I.Am.error("Error storing data in Firebase:",e.message),N(!1)});else throw Error("please fill all field")}catch(e){N(!1),I.Am.error(e.message)}};return(0,n.jsxs)(v.Z,{maxWidth:"sm",className:"container py-5",children:[(0,n.jsx)("h1",{children:"Driver Information"}),(0,n.jsxs)("form",{children:[(0,n.jsx)(g.Z,{variant:"outlined",fullWidth:!0,style:{padding:"10px 0px!important",marginTop:"10px"},children:(0,n.jsx)(m.Z,{label:"Vehicle Model",variant:"outlined",required:!0,fullWidth:!0,value:t,onChange:e=>a(e.target.value)})}),(0,n.jsx)("br",{}),(0,n.jsxs)(g.Z,{variant:"outlined",fullWidth:!0,style:{padding:"10px 0px!important",marginTop:"10px"},children:[(0,n.jsx)(j.Z,{id:"ride-offers-label",className:"font-bold",children:"Ride Offers"}),(0,n.jsxs)(Z.Z,{labelId:"ride-offers-label",id:"ride-offers",value:S,onChange:e=>k(e.target.value),children:[(0,n.jsx)(b.Z,{value:"Taxi",children:"Taxi Rider"}),(0,n.jsx)(b.Z,{value:"Bike",children:"Dispatch Rider"})]})]}),(0,n.jsx)(g.Z,{variant:"outlined",fullWidth:!0,style:{padding:"10px 0px!important",marginTop:"10px"},children:(0,n.jsx)(m.Z,{label:"Vehicle Number",required:!0,variant:"outlined",fullWidth:!0,value:s,onChange:e=>l(e.target.value)})}),(0,n.jsx)(g.Z,{variant:"outlined",fullWidth:!0,style:{padding:"10px 0px!important",marginTop:"10px"},children:(0,n.jsx)(m.Z,{label:"Vehicle Colour",variant:"outlined",fullWidth:!0,required:!0,value:c,onChange:e=>p(e.target.value)})}),(0,n.jsx)(g.Z,{variant:"outlined",fullWidth:!0,style:{padding:"10px 0px!important",marginTop:"10px"},children:(0,n.jsx)(m.Z,{label:"Means of Identity",variant:"outlined",required:!0,fullWidth:!0,value:h,onChange:e=>f(e.target.value)})}),(0,n.jsx)(InputFileUpload,{handleFile:e=>{let r=e.target.files[0];T(r)},label:"upload document"}),(0,n.jsx)("br",{}),(0,n.jsx)(g.Z,{variant:"outlined",children:(0,n.jsx)("div",{children:C?C.name:"No file selected"})}),(0,n.jsx)("br",{}),M?(0,n.jsxs)(w.Z,{loading:!0,variant:"outlined",className:"my-3 cursor-pointer",children:[" ","SUBMIT"]}):(0,n.jsx)(o.Z,{onClick:()=>handleSubmit(),color:"primary",variant:"outlined",className:"my-3 cursor-pointer",children:"SUBMIT"})]})]})}t(27967)},8822:function(e,r,t){"use strict";t.r(r),t.d(r,{default:function(){return MainListItems}});var n=t(85893),i=t(67294),a=t(98619),o=t(48885),s=t(59334),l=t(74721),d=t(13540),c=t(41664),u=t.n(c);function MainListItems(){return(0,n.jsxs)(i.Fragment,{children:[(0,n.jsx)(u(),{href:"/driver/dashboard/information",children:(0,n.jsxs)(a.Z,{children:[(0,n.jsx)(o.Z,{children:(0,n.jsx)(l.Z,{})}),(0,n.jsx)(s.Z,{primary:"Information"})]})}),(0,n.jsx)(u(),{href:"/driver/login",children:(0,n.jsxs)(a.Z,{children:[(0,n.jsx)(o.Z,{children:(0,n.jsx)(d.Z,{})}),(0,n.jsx)(s.Z,{primary:"Sign Out"})]})})]})}},9008:function(e,r,t){e.exports=t(79201)},61202:function(e,r,t){"use strict";t.d(r,{o:function(){return jwtDecode}});let InvalidTokenError=class InvalidTokenError extends Error{};function jwtDecode(e,r){let t;if("string"!=typeof e)throw new InvalidTokenError("Invalid token specified: must be a string");r||(r={});let n=!0===r.header?0:1,i=e.split(".")[n];if("string"!=typeof i)throw new InvalidTokenError(`Invalid token specified: missing part #${n+1}`);try{t=function(e){let r=e.replace(/-/g,"+").replace(/_/g,"/");switch(r.length%4){case 0:break;case 2:r+="==";break;case 3:r+="=";break;default:throw Error("base64 string is not of the correct length")}try{var t;return t=r,decodeURIComponent(atob(t).replace(/(.)/g,(e,r)=>{let t=r.charCodeAt(0).toString(16).toUpperCase();return t.length<2&&(t="0"+t),"%"+t}))}catch(e){return atob(r)}}(i)}catch(e){throw new InvalidTokenError(`Invalid token specified: invalid base64 for part #${n+1} (${e.message})`)}try{return JSON.parse(t)}catch(e){throw new InvalidTokenError(`Invalid token specified: invalid json for part #${n+1} (${e.message})`)}}InvalidTokenError.prototype.name="InvalidTokenError"}},function(e){e.O(0,[1627,9726,7739,8961,4724,1159,1737,9717,9723,4778,8604,1903,9375,9774,2888,179],function(){return e(e.s=61007)}),_N_E=e.O()}]);