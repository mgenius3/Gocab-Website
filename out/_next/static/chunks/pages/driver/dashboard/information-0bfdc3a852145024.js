(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3754],{63441:function(e,t,r){"use strict";var n=r(64836);t.Z=void 0;var i=n(r(64938)),a=r(85893),o=(0,i.default)((0,a.jsx)("path",{d:"M5 20h14v-2H5v2zM19 9h-4V3H9v6H5l7 7 7-7z"}),"Download");t.Z=o},74721:function(e,t,r){"use strict";var n=r(64836);t.Z=void 0;var i=n(r(64938)),a=r(85893),o=(0,i.default)((0,a.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-6h2v6zm0-8h-2V7h2v2z"}),"Info");t.Z=o},10155:function(e,t,r){"use strict";r.d(t,{Z:function(){return g}});var n=r(63366),i=r(87462),a=r(67294),o=r(63961),s=r(94780),l=r(71657),d=r(90948),c=r(1588),u=r(34867);function getToolbarUtilityClass(e){return(0,u.Z)("MuiToolbar",e)}(0,c.Z)("MuiToolbar",["root","gutters","regular","dense"]);var p=r(85893);let h=["className","component","disableGutters","variant"],useUtilityClasses=e=>{let{classes:t,disableGutters:r,variant:n}=e;return(0,s.Z)({root:["root",!r&&"gutters",n]},getToolbarUtilityClass,t)},f=(0,d.ZP)("div",{name:"MuiToolbar",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:r}=e;return[t.root,!r.disableGutters&&t.gutters,t[r.variant]]}})(({theme:e,ownerState:t})=>(0,i.Z)({position:"relative",display:"flex",alignItems:"center"},!t.disableGutters&&{paddingLeft:e.spacing(2),paddingRight:e.spacing(2),[e.breakpoints.up("sm")]:{paddingLeft:e.spacing(3),paddingRight:e.spacing(3)}},"dense"===t.variant&&{minHeight:48}),({theme:e,ownerState:t})=>"regular"===t.variant&&e.mixins.toolbar),x=a.forwardRef(function(e,t){let r=(0,l.Z)({props:e,name:"MuiToolbar"}),{className:a,component:s="div",disableGutters:d=!1,variant:c="regular"}=r,u=(0,n.Z)(r,h),x=(0,i.Z)({},r,{component:s,disableGutters:d,variant:c}),g=useUtilityClasses(x);return(0,p.jsx)(f,(0,i.Z)({as:s,className:(0,o.Z)(g.root,a),ref:t,ownerState:x},u))});var g=x},61007:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/driver/dashboard/information",function(){return r(12051)}])},24962:function(e){"use strict";e.exports={apiKey:"AIzaSyAX3CiXCx5ZW0N3Kh5Jn-VnGJZhSQTRRCw",authDomain:"gocab-3ba80.firebaseapp.com",databaseURL:"https://gocab-3ba80-default-rtdb.firebaseio.com",projectId:"gocab-3ba80",storageBucket:"gocab-3ba80.appspot.com",messagingSenderId:"463821131261",appId:"1:463821131261:web:e2330f002addc9d7911d94",measurementId:"G-212H0C4M2G"}},67132:function(e,t,r){"use strict";r.d(t,{T:function(){return ImageSlideshow},W:function(){return ClearLocalStorage}});var n=r(85893),i=r(67294);let ImageSlideshow=e=>{let{images:t,style:r,sub_image_class:a}=e,[o,s]=(0,i.useState)(0);return(0,i.useEffect)(()=>{let e=setInterval(()=>{s(e=>(e+1)%t.length)},2e3);return()=>clearInterval(e)},[]),(0,n.jsx)("div",{className:r,children:(0,n.jsx)("img",{className:null!=a?a:"mx-auto w-4/4",alt:"Gocab Transit",loading:"lazy",src:t[o]})})};function ClearLocalStorage(){return(0,i.useEffect)(()=>{localStorage.clear()},[]),null}},12051:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return Dashboard}});var n=r(85893),i=r(67294),a=r(90948),o=r(21265),s=r(22430),l=r(66720),d=r(77533),c=r(87357),u=r(42293),p=r(10155),h=r(78462),f=r(15861),x=r(67720),g=r(93946),m=r(326),v=r(19572),j=r(8822),b=r(9008),Z=r.n(b),w=r(83977),y=r(24962),I=r.n(y),S=r(51019),k=r(61202),C=r(11163),T=r(22920);r(27967);var E=r(7847),N=r(17649);let _=(0,a.ZP)(u.Z,{shouldForwardProp:e=>"open"!==e})(e=>{let{theme:t,open:r}=e;return{zIndex:t.zIndex.drawer+1,transition:t.transitions.create(["width","margin"],{easing:t.transitions.easing.sharp,duration:t.transitions.duration.leavingScreen}),...r&&{marginLeft:240,width:"calc(100% - ".concat(240,"px)"),transition:t.transitions.create(["width","margin"],{easing:t.transitions.easing.sharp,duration:t.transitions.duration.enteringScreen})}}}),D=(0,a.ZP)(d.ZP,{shouldForwardProp:e=>"open"!==e})(e=>{let{theme:t,open:r}=e;return{"& .MuiDrawer-paper":{position:"relative",whiteSpace:"nowrap",width:240,transition:t.transitions.create("width",{easing:t.transitions.easing.sharp,duration:t.transitions.duration.enteringScreen}),boxSizing:"border-box",...!r&&{overflowX:"hidden",transition:t.transitions.create("width",{easing:t.transitions.easing.sharp,duration:t.transitions.duration.leavingScreen}),width:t.spacing(7),[t.breakpoints.up("sm")]:{width:t.spacing(9)}}}}}),M=(0,o.Z)();function Dashboard(){let[e,t]=i.useState(null),r=(0,C.useRouter)(),[a,o]=i.useState(!0),[d,u]=i.useState(!0),[b]=i.useState(()=>localStorage.getItem("userToken")),y=(0,w.ZF)(I()),R=(0,S.N8)(y),fetchDriverInfo=e=>{let r=(0,S.iH)(R,"drivers/".concat(e));(0,S.jM)(r,e=>{let r=e.val();r.information?(console.log(r),console.log(r.information),t(r.information)):t("no information")})};i.useEffect(()=>{try{let e=(0,k.o)(b);u(e),fetchDriverInfo(null==e?void 0:e.uid)}catch(e){r.push("https://gocab.vercel.app/driver/login")}},[b]);let toggleDrawer=()=>{o(!a)};return(0,n.jsxs)(s.Z,{theme:M,children:[(0,n.jsxs)(Z(),{children:[(0,n.jsx)("title",{children:"information"}),(0,n.jsx)("link",{rel:"icon",href:"/images/icon.png"})]}),(0,n.jsxs)(c.Z,{sx:{display:"flex"},children:[(0,n.jsx)(l.ZP,{}),(0,n.jsx)(_,{position:"absolute",open:a,children:(0,n.jsxs)(p.Z,{sx:{pr:"24px"},children:[(0,n.jsx)(g.Z,{edge:"start",color:"inherit","aria-label":"open drawer",onClick:toggleDrawer,sx:{marginRight:"36px",...a&&{display:"none"}},children:(0,n.jsx)(m.Z,{})}),(0,n.jsxs)(f.Z,{component:"h1",variant:"h6",color:"inherit",noWrap:!0,sx:{flexGrow:1},children:[null==d?void 0:d.name," - Dashboard"]})]})}),(0,n.jsxs)(D,{variant:"permanent",open:a,children:[(0,n.jsx)(p.Z,{sx:{display:"flex",alignItems:"center",justifyContent:"flex-end",px:[1]},children:(0,n.jsx)(g.Z,{onClick:toggleDrawer,children:(0,n.jsx)(v.Z,{})})}),(0,n.jsx)(x.Z,{}),(0,n.jsxs)(h.Z,{component:"nav",children:[(0,n.jsx)(j.default,{}),(0,n.jsx)(x.Z,{sx:{my:1}})]})]}),(0,n.jsxs)(c.Z,{component:"main",sx:{backgroundColor:e=>"light"===e.palette.mode?e.palette.grey[100]:e.palette.grey[900],flexGrow:1,height:"100vh",overflow:"auto"},children:[(0,n.jsx)(p.Z,{}),e&&"no information"!==e?(0,n.jsx)(E.default,{driverInfo:e}):(0,n.jsx)(N.default,{user:d})]}),(0,n.jsx)(T.Ix,{position:"bottom-center"})]})]})}},7847:function(e,t,r){"use strict";r.r(t);var n=r(85893);r(67294);var i=r(63441),a=r(90629),o=r(78462),s=r(97212),l=r(59334),d=r(69417),c=r(21737),u=r(41664),p=r.n(u);let h={display:"block",marginBottom:"12px"};t.default=e=>{let{driverInfo:t}=e;return(0,n.jsx)(a.Z,{children:(0,n.jsx)(o.Z,{children:t?(0,n.jsxs)(s.ZP,{style:h,children:[(0,n.jsx)(l.Z,{primary:"Vehicle Model",secondary:"".concat(t.v_model)}),(0,n.jsx)(l.Z,{primary:"Vehicle Number",secondary:"".concat(t.v_number)}),(0,n.jsx)(l.Z,{primary:"Vehicle Colour",secondary:"".concat(t.v_colour)}),(0,n.jsx)(l.Z,{primary:"Means of Identity",secondary:"".concat(t.means_of_identity)}),(0,n.jsx)(l.Z,{primary:"Ride Offers: ".concat(t.offers),secondary:"".concat(t.offers)}),(0,n.jsxs)(l.Z,{className:"mb-3",children:[(0,n.jsx)("p",{children:"Documents"}),(0,n.jsx)(p(),{href:t.documents,children:(0,n.jsxs)(d.Z,{variant:"outlined",children:[(0,n.jsx)(i.Z,{})," View"]})})]}),"on review"==t.verification_status?(0,n.jsx)(c.Z,{severity:"info",children:"Your application to become a driver is on review"}):"approved"==t.verification_status?(0,n.jsx)(c.Z,{severity:"success",children:"Your application to be a Gocab Driver has been approved"}):(0,n.jsx)(c.Z,{severity:"error",children:"Your application to be a Gocab Driver has been declined"})]}):null})})}},17649:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return UploadInformation}});var n=r(85893),i=r(67294),a=r(90948),o=r(69417),s=r(54970);let l=(0,a.ZP)("input")({clip:"rect(0 0 0 0)",clipPath:"inset(50%)",height:1,overflow:"hidden",position:"absolute",bottom:0,left:0,whiteSpace:"nowrap",width:1});function InputFileUpload(e){let{handleFile:t,label:r}=e;return(0,n.jsxs)(o.Z,{component:"label",variant:"contained",startIcon:(0,n.jsx)(s.Z,{}),children:[r,(0,n.jsx)(l,{type:"file",onChange:t})]})}var d=r(83977),c=r(24962),u=r.n(c),p=r(86650);let h=(0,d.ZF)(u()),f=(0,p.cF)(h),uploadFile=async(e,t)=>{console.log(f);let r=(0,p.iH)(f,"drivers/".concat(t,"/document/").concat(null==e?void 0:e.name));try{await (0,p.KV)(r,e);let t=await (0,p.Jt)(r);return console.log("File download URL:",t),t}catch(e){return console.error("Error uploading or getting download URL:",e),null}};var x=r(51019),g=r(65582),m=r(94054),v=r(61903),j=r(33841),b=r(40138),Z=r(18972),w=r(8987),y=r(11163),I=r(22920);function UploadInformation(e){let{user:t}=e,[r,a]=i.useState(""),[s,l]=i.useState(""),[c,p]=i.useState(""),[h,f]=i.useState(""),[S,k]=i.useState("Taxi"),[C,T]=i.useState(null),[E,N]=i.useState(""),[_,D]=i.useState(!1),M=(0,y.useRouter)(),R=(0,d.ZF)(u()),U=(0,x.N8)(R),F=(0,x.iH)(U,"drivers/"+(null==t?void 0:t.uid)+"/information"),handleSubmit=async()=>{D(!0);let e=await uploadFile(C,null==t?void 0:t.uid);try{if(e&&r&&s&&c&&h&&S)(0,x.t8)(F,{v_model:r,v_number:s,v_colour:c,means_of_identity:h,offers:S,documents:e,verification_status:"on review"}).then(()=>{D(!1),I.Am.info("Information submitted successfully"),M.reload()}).catch(e=>{"auth/email-already-in-use"===e.code?I.Am.error("Email address is already in use. Please use a different email."):I.Am.error("Error storing data in Firebase:",e.message),D(!1)});else throw Error("please fill all field")}catch(e){D(!1),I.Am.error(e.message)}};return(0,n.jsxs)(g.Z,{maxWidth:"sm",className:"container py-5",children:[(0,n.jsx)("h1",{children:"Driver Information"}),(0,n.jsxs)("form",{children:[(0,n.jsx)(m.Z,{variant:"outlined",fullWidth:!0,style:{padding:"10px 0px!important",marginTop:"10px"},children:(0,n.jsx)(v.Z,{label:"Vehicle Model",variant:"outlined",required:!0,fullWidth:!0,value:r,onChange:e=>a(e.target.value)})}),(0,n.jsx)("br",{}),(0,n.jsxs)(m.Z,{variant:"outlined",fullWidth:!0,style:{padding:"10px 0px!important",marginTop:"10px"},children:[(0,n.jsx)(j.Z,{id:"ride-offers-label",className:"font-bold",children:"Ride Offers"}),(0,n.jsxs)(b.Z,{labelId:"ride-offers-label",id:"ride-offers",value:S,onChange:e=>k(e.target.value),children:[(0,n.jsx)(Z.Z,{value:"Taxi",children:"Taxi Rider"}),(0,n.jsx)(Z.Z,{value:"Bike",children:"Dispatch Rider"})]})]}),(0,n.jsx)(m.Z,{variant:"outlined",fullWidth:!0,style:{padding:"10px 0px!important",marginTop:"10px"},children:(0,n.jsx)(v.Z,{label:"Vehicle Number",required:!0,variant:"outlined",fullWidth:!0,value:s,onChange:e=>l(e.target.value)})}),(0,n.jsx)(m.Z,{variant:"outlined",fullWidth:!0,style:{padding:"10px 0px!important",marginTop:"10px"},children:(0,n.jsx)(v.Z,{label:"Vehicle Colour",variant:"outlined",fullWidth:!0,required:!0,value:c,onChange:e=>p(e.target.value)})}),(0,n.jsx)(m.Z,{variant:"outlined",fullWidth:!0,style:{padding:"10px 0px!important",marginTop:"10px"},children:(0,n.jsx)(v.Z,{label:"Means of Identity",variant:"outlined",required:!0,fullWidth:!0,value:h,onChange:e=>f(e.target.value)})}),(0,n.jsx)(InputFileUpload,{handleFile:e=>{let t=e.target.files[0];T(t)},label:"upload document"}),(0,n.jsx)("br",{}),(0,n.jsx)(m.Z,{variant:"outlined",children:(0,n.jsx)("div",{children:C?C.name:"No file selected"})}),(0,n.jsx)("br",{}),_?(0,n.jsxs)(w.Z,{loading:!0,variant:"outlined",className:"my-3 cursor-pointer",children:[" ","SUBMIT"]}):(0,n.jsx)(o.Z,{onClick:()=>handleSubmit(),color:"primary",variant:"outlined",className:"my-3 cursor-pointer",style:{margin:"8px 0px!important"},children:"SUBMIT"})]})]})}r(27967)},8822:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return MainListItems}});var n=r(85893),i=r(67294),a=r(98619),o=r(48885),s=r(59334),l=r(74721),d=r(13540),c=r(41664),u=r.n(c),p=r(67132);function MainListItems(){return(0,n.jsxs)(i.Fragment,{children:[(0,n.jsx)(u(),{href:"https://gocab.vercel.app/driver/dashboard/information",children:(0,n.jsxs)(a.Z,{children:[(0,n.jsx)(o.Z,{children:(0,n.jsx)(l.Z,{})}),(0,n.jsx)(s.Z,{primary:"Information"})]})}),(0,n.jsx)(u(),{href:"https://gocab.vercel.app/driver/login",children:(0,n.jsxs)(a.Z,{onClick:()=>(0,p.W)(),children:[(0,n.jsx)(o.Z,{children:(0,n.jsx)(d.Z,{})}),(0,n.jsx)(s.Z,{primary:"Sign Out"})]})})]})}},9008:function(e,t,r){e.exports=r(79201)},61202:function(e,t,r){"use strict";r.d(t,{o:function(){return jwtDecode}});let InvalidTokenError=class InvalidTokenError extends Error{};function jwtDecode(e,t){let r;if("string"!=typeof e)throw new InvalidTokenError("Invalid token specified: must be a string");t||(t={});let n=!0===t.header?0:1,i=e.split(".")[n];if("string"!=typeof i)throw new InvalidTokenError(`Invalid token specified: missing part #${n+1}`);try{r=function(e){let t=e.replace(/-/g,"+").replace(/_/g,"/");switch(t.length%4){case 0:break;case 2:t+="==";break;case 3:t+="=";break;default:throw Error("base64 string is not of the correct length")}try{var r;return r=t,decodeURIComponent(atob(r).replace(/(.)/g,(e,t)=>{let r=t.charCodeAt(0).toString(16).toUpperCase();return r.length<2&&(r="0"+r),"%"+r}))}catch(e){return atob(t)}}(i)}catch(e){throw new InvalidTokenError(`Invalid token specified: invalid base64 for part #${n+1} (${e.message})`)}try{return JSON.parse(r)}catch(e){throw new InvalidTokenError(`Invalid token specified: invalid json for part #${n+1} (${e.message})`)}}InvalidTokenError.prototype.name="InvalidTokenError"}},function(e){e.O(0,[1627,9726,7739,8961,4724,1159,1737,9717,9723,4778,1687,1903,9375,9774,2888,179],function(){return e(e.s=61007)}),_N_E=e.O()}]);