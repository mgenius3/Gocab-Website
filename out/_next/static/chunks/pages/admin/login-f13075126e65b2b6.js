(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2300],{46863:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin/login",function(){return n(64165)}])},39536:function(e,t){"use strict";t.Z=class{async get(e){try{let t=await fetch("/api"+this.baseURL+e,{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(this.token)}});if(!t.ok){let e=await t.json();throw Error(e.msg)}let n=await t.json();return{response:n.msg,error:null}}catch(e){return{response:null,error:e.message}}}async post(e,t){try{let n=await fetch("/api"+this.baseURL+e,{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(this.token)},body:JSON.stringify(t)});if(!n.ok){let e=await n.json();throw Error(e.msg)}let r=await n.json();return{response:r.msg,error:null}}catch(e){return{response:null,error:e.message}}}async delete(e){try{let t=await fetch("/api"+this.baseURL+e,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(this.token)}});if(!t.ok){let e=await t.json();throw Error(e.msg)}let n=await t.json();return{response:n.msg,error:null}}catch(e){return{response:null,error:e.message}}}constructor(e,t=""){this.baseURL=e,this.token=t}}},64165:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return SignIn}});var r=n(85893),o=n(67294),s=n(69661),a=n(69417),i=n(66720),l=n(61903),c=n(66836),m=n(85071),h=n(23795),u=n(86886),d=n(87357),p=n(63845),g=n(15861),x=n(65582),j=n(21265),f=n(22430),w=n(39536),b=n(22920);n(27967);var y=n(8987),Z=n(11163),E=n(9008),k=n.n(E);function Copyright(e){return(0,r.jsxs)(g.Z,{variant:"body2",color:"text.secondary",align:"center",...e,children:["Copyright \xa9 ",(0,r.jsx)(h.Z,{color:"inherit",href:"https://gocab.com.ng",children:"gocab.com.ng"})," ",new Date().getFullYear(),"."]})}let S=(0,j.Z)();function SignIn(){let e=(0,Z.useRouter)(),t=new w.Z("/admin"),[n,j]=o.useState(!1),handleSubmit=async n=>{n.preventDefault();let r=new FormData(n.currentTarget);n.preventDefault();try{j(!0);let n={email:r.get("email"),password:r.get("password")},{error:o,response:s}=await t.post("/login",n);if(o)throw Error(o);localStorage.setItem("adminToken",s),b.Am.info("successful login"),e.push("https://gocab.vercel.app/admin/dashboard"),j(!1)}catch(e){b.Am.error(e.message),j(!1)}};return(0,r.jsxs)(f.Z,{theme:S,children:[(0,r.jsxs)(k(),{children:[(0,r.jsx)("title",{children:"Login"}),(0,r.jsx)("link",{rel:"icon",href:"/images/icon.png"})]}),(0,r.jsxs)(x.Z,{component:"main",maxWidth:"xs",children:[(0,r.jsx)(i.ZP,{}),(0,r.jsxs)(d.Z,{sx:{marginTop:8,display:"flex",flexDirection:"column",alignItems:"center"},children:[(0,r.jsx)(s.Z,{sx:{m:1,bgcolor:"secondary.main"},children:(0,r.jsx)(p.Z,{})}),(0,r.jsx)(g.Z,{component:"h1",variant:"h5",children:"Admin - Sign in"}),(0,r.jsxs)(d.Z,{component:"form",onSubmit:handleSubmit,noValidate:!0,sx:{mt:1},children:[(0,r.jsx)(l.Z,{margin:"normal",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email",autoFocus:!0}),(0,r.jsx)(l.Z,{margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password"}),(0,r.jsx)(c.Z,{control:(0,r.jsx)(m.Z,{value:"remember",color:"primary"}),label:"Remember me"}),(0,r.jsx)("br",{}),n?(0,r.jsxs)(y.Z,{loading:!0,variant:"outlined",className:"my-3 cursor-pointer",children:[" ","Sign In"]}):(0,r.jsx)(a.Z,{type:"submit",variant:"outlined",className:"my-3 cursor-pointer",children:"Sign In"}),(0,r.jsx)(u.ZP,{container:!0,children:(0,r.jsx)(u.ZP,{item:!0,children:(0,r.jsx)(h.Z,{href:"register",variant:"body2",children:"Don't have an account? Sign Up"})})})]})]}),(0,r.jsx)(Copyright,{sx:{mt:8,mb:4}}),(0,r.jsx)(b.Ix,{position:"bottom-center"})]})]})}}},function(e){e.O(0,[9726,7739,8961,1159,9723,8977,1903,7916,9774,2888,179],function(){return e(e.s=46863)}),_N_E=e.O()}]);