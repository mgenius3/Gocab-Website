(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2300],{46863:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin/login",function(){return t(64165)}])},39536:function(e,n){"use strict";n.Z=class{async get(e){try{let n=await fetch("/api"+this.baseURL+e,{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(this.token)}});if(!n.ok){let e=await n.json();throw Error(e.msg)}let t=await n.json();return{response:t.msg,error:null}}catch(e){return{response:null,error:e.message}}}async post(e,n){try{let t=await fetch("/api"+this.baseURL+e,{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(this.token)},body:JSON.stringify(n)});if(!t.ok){let e=await t.json();throw Error(e.msg)}let r=await t.json();return{response:r.msg,error:null}}catch(e){return{response:null,error:e.message}}}async delete(e){try{let n=await fetch("/api"+this.baseURL+e,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(this.token)}});if(!n.ok){let e=await n.json();throw Error(e.msg)}let t=await n.json();return{response:t.msg,error:null}}catch(e){return{response:null,error:e.message}}}constructor(e,n=""){this.baseURL=e,this.token=n}}},64165:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return SignIn}});var r=t(85893),o=t(67294),s=t(69661),a=t(69417),i=t(66720),l=t(61903),c=t(66836),m=t(85071),u=t(23795),h=t(86886),d=t(87357),p=t(63845),g=t(15861),x=t(65582),j=t(21265),f=t(22430),w=t(39536),y=t(22920);t(27967);var b=t(8987),Z=t(11163),E=t(9008),k=t.n(E);function Copyright(e){return(0,r.jsxs)(g.Z,{variant:"body2",color:"text.secondary",align:"center",...e,children:["Copyright \xa9 ",(0,r.jsx)(u.Z,{color:"inherit",href:"https://gocab.com.ng",children:"gocab.com.ng"})," ",new Date().getFullYear(),"."]})}let S=(0,j.Z)();function SignIn(){let e=(0,Z.useRouter)(),n=new w.Z("/admin"),[t,j]=o.useState(!1),handleSubmit=async t=>{t.preventDefault();let r=new FormData(t.currentTarget);t.preventDefault();try{j(!0);let t={email:r.get("email"),password:r.get("password")},{error:o,response:s}=await n.post("/login",t);if(o)throw Error(o);localStorage.setItem("adminToken",s),y.Am.info("successful login"),e.push("/admin/dashboard"),j(!1)}catch(e){y.Am.error(e.message),j(!1)}};return(0,r.jsxs)(f.Z,{theme:S,children:[(0,r.jsxs)(k(),{children:[(0,r.jsx)("title",{children:"Login"}),(0,r.jsx)("link",{rel:"icon",href:"/images/icon.png"})]}),(0,r.jsxs)(x.Z,{component:"main",maxWidth:"xs",children:[(0,r.jsx)(i.ZP,{}),(0,r.jsxs)(d.Z,{sx:{marginTop:8,display:"flex",flexDirection:"column",alignItems:"center"},children:[(0,r.jsx)(s.Z,{sx:{m:1,bgcolor:"secondary.main"},children:(0,r.jsx)(p.Z,{})}),(0,r.jsx)(g.Z,{component:"h1",variant:"h5",children:"Admin - Sign in"}),(0,r.jsxs)(d.Z,{component:"form",onSubmit:handleSubmit,noValidate:!0,sx:{mt:1},children:[(0,r.jsx)(l.Z,{margin:"normal",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email",autoFocus:!0}),(0,r.jsx)(l.Z,{margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password"}),(0,r.jsx)(c.Z,{control:(0,r.jsx)(m.Z,{value:"remember",color:"primary"}),label:"Remember me"}),(0,r.jsx)("br",{}),t?(0,r.jsxs)(b.Z,{loading:!0,variant:"outlined",className:"my-3 cursor-pointer",children:[" ","Sign In"]}):(0,r.jsx)(a.Z,{type:"submit",variant:"outlined",className:"my-3 cursor-pointer",children:"Sign In"}),(0,r.jsx)(h.ZP,{container:!0,children:(0,r.jsx)(h.ZP,{item:!0,children:(0,r.jsx)(u.Z,{href:"register",variant:"body2",children:"Don't have an account? Sign Up"})})})]})]}),(0,r.jsx)(Copyright,{sx:{mt:8,mb:4}}),(0,r.jsx)(y.Ix,{position:"bottom-center"})]})]})}}},function(e){e.O(0,[9726,7739,8961,1159,9723,8977,1903,7916,9774,2888,179],function(){return e(e.s=46863)}),_N_E=e.O()}]);