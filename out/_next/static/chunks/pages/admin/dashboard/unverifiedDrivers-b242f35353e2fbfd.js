(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6856],{63441:function(e,n,r){"use strict";var t=r(64836);n.Z=void 0;var o=t(r(64938)),i=r(85893),a=(0,o.default)((0,i.jsx)("path",{d:"M5 20h14v-2H5v2zM19 9h-4V3H9v6H5l7 7 7-7z"}),"Download");n.Z=a},64938:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return t.createSvgIcon}});var t=r(76031)},87357:function(e,n,r){"use strict";r.d(n,{Z:function(){return Z}});var t=r(87462),o=r(63366),i=r(67294),a=r(70828),s=r(49731),l=r(86523),d=r(39707),u=r(96682),c=r(85893);let f=["className","component"];var p=r(37078),m=r(21265),v=r(10606);let h=(0,m.Z)(),x=function(e={}){let{themeId:n,defaultTheme:r,defaultClassName:p="MuiBox-root",generateClassName:m}=e,v=(0,s.ZP)("div",{shouldForwardProp:e=>"theme"!==e&&"sx"!==e&&"as"!==e})(l.Z),h=i.forwardRef(function(e,i){let s=(0,u.Z)(r),l=(0,d.Z)(e),{className:h,component:x="div"}=l,Z=(0,o.Z)(l,f);return(0,c.jsx)(v,(0,t.Z)({as:x,ref:i,className:(0,a.Z)(h,m?m(p):p),theme:n&&s[n]||s},Z))});return h}({themeId:v.Z,defaultTheme:h,defaultClassName:"MuiBox-root",generateClassName:p.Z.generate});var Z=x},76031:function(e,n,r){"use strict";r.r(n),r.d(n,{capitalize:function(){return o.Z},createChainedFunction:function(){return i},createSvgIcon:function(){return a.Z},debounce:function(){return s.Z},deprecatedPropType:function(){return utils_deprecatedPropType},isMuiElement:function(){return l.Z},ownerDocument:function(){return d.Z},ownerWindow:function(){return u.Z},requirePropFactory:function(){return utils_requirePropFactory},setRef:function(){return c},unstable_ClassNameGenerator:function(){return Z},unstable_useEnhancedEffect:function(){return f.Z},unstable_useId:function(){return p.Z},unsupportedProp:function(){return utils_unsupportedProp},useControlled:function(){return m.Z},useEventCallback:function(){return v.Z},useForkRef:function(){return h.Z},useIsFocusVisible:function(){return x.Z}});var t=r(37078),o=r(98216),i=r(49064).Z,a=r(88169),s=r(57144),utils_deprecatedPropType=function(e,n){return()=>null},l=r(71579),d=r(8038),u=r(5340);r(87462);var utils_requirePropFactory=function(e,n){return()=>null},c=r(7960).Z,f=r(58974),p=r(27909),utils_unsupportedProp=function(e,n,r,t,o){return null},m=r(72021),v=r(2068),h=r(51705),x=r(18791);let Z={configure:e=>{t.Z.configure(e)}}},39769:function(e,n,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin/dashboard/unverifiedDrivers",function(){return r(47604)}])},24962:function(e){"use strict";e.exports={apiKey:"AIzaSyAX3CiXCx5ZW0N3Kh5Jn-VnGJZhSQTRRCw",authDomain:"gocab-3ba80.firebaseapp.com",databaseURL:"https://gocab-3ba80-default-rtdb.firebaseio.com",projectId:"gocab-3ba80",storageBucket:"gocab-3ba80.appspot.com",messagingSenderId:"463821131261",appId:"1:463821131261:web:e2330f002addc9d7911d94",measurementId:"G-212H0C4M2G"}},58461:function(e,n,r){"use strict";r.r(n);var t=r(85893),o=r(67294),i=r(63441),a=r(83977),s=r(8987),l=r(24962),d=r.n(l),u=r(51019),c=r(22920);r(27967);var f=r(87357),p=r(90629),m=r(15861),v=r(78462),h=r(97212),x=r(59334),Z=r(69417),b=r(21737),j=r(41664),g=r.n(j),y=r(84808),_=r(55843),w=r(16628);let P={display:"block",marginBottom:"12px"},k={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:400,bgcolor:"background.paper",border:"2px solid #000",boxShadow:24,p:4};n.default=e=>{let{driverData:n,open:r,handleClose:l}=e,[j,C]=(0,o.useState)(!1),[N,D]=(0,o.useState)(!1),S=(0,a.ZF)(d()),R=(0,u.N8)(S),handleDriverApprovalResponse=async e=>{"approved"==e?C(!0):D(!0);let r=(0,u.iH)(R,"drivers/".concat(n.uid,"/information/verification_status"));try{await (0,u.t8)(r,"".concat(e)),"approved"==e?(C(!1),c.Am.info("Verification status updated to 'approved'")):D(!1)}catch(n){throw"approved"==e?C(!1):D(!1),Error("Error updating verification status: "+n.message)}};return(0,t.jsx)(_.Z,{"aria-labelledby":"transition-modal-title","aria-describedby":"transition-modal-description",open:r,onClose:l,closeAfterTransition:!0,slots:{backdrop:y.Z},slotProps:{backdrop:{timeout:500}},children:(0,t.jsx)(w.Z,{in:r,children:(0,t.jsxs)(f.Z,{sx:k,children:[(0,t.jsxs)(p.Z,{children:[(0,t.jsx)(m.Z,{id:"transition-modal-title",variant:"h6",component:"h2",children:null==n?void 0:n.name}),(0,t.jsx)(v.Z,{children:(null==n?void 0:n.information)?(0,t.jsxs)(h.ZP,{style:P,children:[(0,t.jsx)(x.Z,{primary:"Vehicle Model",secondary:"".concat(null==n?void 0:n.information.v_model)}),(0,t.jsx)(x.Z,{primary:"Vehicle Number",secondary:"".concat(null==n?void 0:n.information.v_number)}),(0,t.jsx)(x.Z,{primary:"Vehicle Colour",secondary:"".concat(null==n?void 0:n.information.v_colour)}),(0,t.jsx)(x.Z,{primary:"Means of Identity",secondary:"".concat(null==n?void 0:n.information.means_of_identity)}),(0,t.jsx)(x.Z,{primary:"Ride Offers: ".concat(null==n?void 0:n.information.offers),secondary:"".concat(null==n?void 0:n.information.offers)}),(0,t.jsxs)(x.Z,{className:"mb-3",children:[(0,t.jsx)("p",{children:"Documents"}),(0,t.jsx)(g(),{href:null==n?void 0:n.information.documents,children:(0,t.jsxs)(Z.Z,{variant:"outlined",children:[(0,t.jsx)(i.Z,{})," View"]})})]}),(null==n?void 0:n.information.verification_status)=="on review"?(0,t.jsxs)("div",{className:"flex justify-center",children:[j?(0,t.jsx)(s.Z,{variant:"outlined",loading:!0,style:{textTransform:"none",textTransform:"none",marginRight:"20px"},children:"Approve"}):(0,t.jsx)(Z.Z,{variant:"contained",style:{background:"goldenrod",textTransform:"none",marginRight:"20px"},onClick:()=>handleDriverApprovalResponse("approved"),children:"Approve"}),N?(0,t.jsx)(s.Z,{variant:"outlined",loading:!0,style:{textTransform:"none",textTransform:"none"},children:"Decline"}):(0,t.jsx)(Z.Z,{variant:"contained",style:{background:"red",textTransform:"none",textTransform:"none"},onClick:()=>handleDriverApprovalResponse("declined"),children:"Decline"})]}):(null==n?void 0:n.information.verification_status)=="approved"?(0,t.jsx)(b.Z,{severity:"success",children:"Request Approved"}):(0,t.jsx)(b.Z,{severity:"error",children:"Request Declined"})]}):null})]}),(0,t.jsx)(c.Ix,{position:"bottom-center"})]})})})}},47604:function(e,n,r){"use strict";r.r(n),r.d(n,{default:function(){return UnverifiedDrivers}});var t=r(85893),o=r(67294),i=r(90629),a=r(7906),s=r(295),l=r(53252),d=r(72882),u=r(53184),c=r(45347),f=r(53816),p=r(58461);let m=[{id:"name",label:"Name",minWidth:100},{id:"email",label:"Email",minWidth:100},{id:"address",label:"Address",minWidth:100,format:e=>e.toLocaleString("en-US")},{id:"phone",label:"Phone Number",minWidth:100}];function UnverifiedDrivers(e){let{driversData:n}=e;console.log(n);let r=null==n?void 0:n.filter(e=>{var n;return(null==e?void 0:null===(n=e.information)||void 0===n?void 0:n.verification_status)==="on review"});console.log(r);let[v]=o.useState(()=>localStorage.getItem("adminToken")),[h,x]=o.useState(0),[Z,b]=o.useState(5),[j,g]=o.useState(null),[y,_]=o.useState(!1),handleOpeDriverModal=e=>{g(e),_(!0)};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(i.Z,{sx:{width:"100%",overflow:"hidden"},children:[(0,t.jsx)(d.Z,{sx:{maxHeight:440},children:(0,t.jsxs)(a.Z,{stickyHeader:!0,"aria-label":"sticky table",children:[(0,t.jsx)(u.Z,{children:(0,t.jsx)(f.Z,{style:{background:"black"},children:m.map(e=>(0,t.jsx)(l.Z,{style:{minWidth:"100"},children:e.label},e.id))})}),(0,t.jsx)(s.Z,{children:n&&r.slice(h*Z,h*Z+Z).map((e,n)=>(0,t.jsxs)(f.Z,{hover:!0,role:"checkbox",tabIndex:-1,onClick:()=>handleOpeDriverModal(e),children:[(0,t.jsx)(l.Z,{children:e.name}),(0,t.jsx)(l.Z,{children:e.email}),(0,t.jsx)(l.Z,{children:e.address}),(0,t.jsx)(l.Z,{children:e.phone})]},n))})]})}),(0,t.jsx)(c.Z,{rowsPerPageOptions:[5,10,25,50,100],component:"div",count:null==r?void 0:r.length,rowsPerPage:Z,page:h,onPageChange:(e,n)=>{x(n)},onRowsPerPageChange:e=>{b(+e.target.value),x(0)}})]}),j&&(0,t.jsx)(p.default,{open:y,driverData:j,handleClose:()=>_(!1)})]})}},64836:function(e){e.exports=function(e){return e&&e.__esModule?e:{default:e}},e.exports.__esModule=!0,e.exports.default=e.exports}},function(e){e.O(0,[1627,9726,7739,8961,4724,1159,1737,9717,9723,4778,6325,6374,9774,2888,179],function(){return e(e.s=39769)}),_N_E=e.O()}]);