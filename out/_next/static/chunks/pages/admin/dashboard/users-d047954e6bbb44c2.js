(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7177],{12374:function(e,r,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin/dashboard/users",function(){return n(51661)}])},39536:function(e,r){"use strict";r.Z=class{async get(e){try{let r=await fetch("/api"+this.baseURL+e,{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(this.token)}});if(!r.ok){let e=await r.json();throw Error(e.msg)}let n=await r.json();return{response:n.msg,error:null}}catch(e){return{response:null,error:e.message}}}async post(e,r){try{let n=await fetch("/api"+this.baseURL+e,{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(this.token)},body:JSON.stringify(r)});if(!n.ok){let e=await n.json();throw Error(e.msg)}let t=await n.json();return{response:t.msg,error:null}}catch(e){return{response:null,error:e.message}}}async delete(e){try{let r=await fetch("/api"+this.baseURL+e,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(this.token)}});if(!r.ok){let e=await r.json();throw Error(e.msg)}let n=await r.json();return{response:n.msg,error:null}}catch(e){return{response:null,error:e.message}}}constructor(e,r=""){this.baseURL=e,this.token=r}}},67132:function(e,r,n){"use strict";n.d(r,{T:function(){return ImageSlideshow},W:function(){return ClearLocalStorage}});var t=n(85893),s=n(67294);let ImageSlideshow=e=>{let{images:r,style:n,sub_image_class:a}=e,[i,o]=(0,s.useState)(0);return(0,s.useEffect)(()=>{let e=setInterval(()=>{o(e=>(e+1)%r.length)},2e3);return()=>clearInterval(e)},[]),(0,t.jsx)("div",{className:n,children:(0,t.jsx)("img",{className:null!=a?a:"mx-auto w-4/4",alt:"Gocab Transit",loading:"lazy",src:r[i]})})};function ClearLocalStorage(){return(0,s.useEffect)(()=>{localStorage.clear()},[]),null}},75595:function(e,r,n){"use strict";n.r(r),n.d(r,{default:function(){return mainListItems}});var t=n(85893),s=n(67294),a=n(98619),i=n(48885),o=n(59334),l=n(42410),c=n(25709),d=n(48571),h=n(15498),u=n(41664),p=n.n(u),x=n(9008),g=n.n(x),m=n(67132),j=n(13540);function mainListItems(){return(0,t.jsxs)(s.Fragment,{children:[(0,t.jsxs)(g(),{children:[(0,t.jsx)("title",{children:"Gocab"}),(0,t.jsx)("link",{rel:"icon",href:"/images/icon.png"})]}),(0,t.jsx)(p(),{href:"https://gocab.vercel.app/admin/dashboard",children:(0,t.jsxs)(a.Z,{children:[(0,t.jsx)(i.Z,{children:(0,t.jsx)(c.Z,{})}),(0,t.jsx)(o.Z,{primary:"Dashboard"})]})}),(0,t.jsx)(p(),{href:"https://gocab.vercel.app/admin/dashboard/drivers",children:(0,t.jsxs)(a.Z,{children:[(0,t.jsx)(i.Z,{children:(0,t.jsx)(l.Z,{})}),(0,t.jsx)(o.Z,{primary:"Drivers"})]})}),(0,t.jsx)(p(),{href:"https://gocab.vercel.app/admin/dashboard/users",children:(0,t.jsxs)(a.Z,{children:[(0,t.jsx)(i.Z,{children:(0,t.jsx)(d.Z,{})}),(0,t.jsx)(o.Z,{primary:"Users"})]})}),(0,t.jsx)(p(),{href:"https://gocab.vercel.app/admin/dashboard/reports",children:(0,t.jsxs)(a.Z,{children:[(0,t.jsx)(i.Z,{children:(0,t.jsx)(h.Z,{})}),(0,t.jsx)(o.Z,{primary:"Reports"})]})}),(0,t.jsx)(p(),{href:"https://gocab.vercel.app/admin/login",children:(0,t.jsxs)(a.Z,{onClick:()=>(0,m.W)(),children:[(0,t.jsx)(i.Z,{children:(0,t.jsx)(j.Z,{})}),(0,t.jsx)(o.Z,{primary:"Sign Out"})]})})]})}},51661:function(e,r,n){"use strict";n.r(r),n.d(r,{default:function(){return Dashboard}});var t=n(85893),s=n(67294),a=n(90948),i=n(21265),o=n(22430),l=n(66720),c=n(77533),d=n(87357),h=n(42293),u=n(10155),p=n(78462),x=n(15861),g=n(67720),m=n(93946),j=n(14948),f=n(326),Z=n(19572),w=n(65817),b=n(75595),v=n(91782),y=n(11163),S=n(61202);let k=(0,a.ZP)(h.Z,{shouldForwardProp:e=>"open"!==e})(e=>{let{theme:r,open:n}=e;return{zIndex:r.zIndex.drawer+1,transition:r.transitions.create(["width","margin"],{easing:r.transitions.easing.sharp,duration:r.transitions.duration.leavingScreen}),...n&&{marginLeft:240,width:"calc(100% - ".concat(240,"px)"),transition:r.transitions.create(["width","margin"],{easing:r.transitions.easing.sharp,duration:r.transitions.duration.enteringScreen})}}}),E=(0,a.ZP)(c.ZP,{shouldForwardProp:e=>"open"!==e})(e=>{let{theme:r,open:n}=e;return{"& .MuiDrawer-paper":{position:"relative",whiteSpace:"nowrap",width:240,transition:r.transitions.create("width",{easing:r.transitions.easing.sharp,duration:r.transitions.duration.enteringScreen}),boxSizing:"border-box",...!n&&{overflowX:"hidden",transition:r.transitions.create("width",{easing:r.transitions.easing.sharp,duration:r.transitions.duration.leavingScreen}),width:r.spacing(7),[r.breakpoints.up("sm")]:{width:r.spacing(9)}}}}}),P=(0,i.Z)();function Dashboard(){let[e,r]=s.useState(!0),toggleDrawer=()=>{r(!e)},n=(0,y.useRouter)(),[a,i]=s.useState(null),[c]=s.useState(()=>localStorage.getItem("adminToken"));return s.useEffect(()=>{try{let e=(0,S.o)(c);i(e)}catch(e){console.log(e),n.push("https://gocab.vercel.app/admin/login")}},[c]),(0,t.jsx)(o.Z,{theme:P,children:(0,t.jsxs)(d.Z,{sx:{display:"flex"},children:[(0,t.jsx)(l.ZP,{}),(0,t.jsx)(k,{position:"absolute",open:e,children:(0,t.jsxs)(u.Z,{sx:{pr:"24px"},children:[(0,t.jsx)(m.Z,{edge:"start",color:"inherit","aria-label":"open drawer",onClick:toggleDrawer,sx:{marginRight:"36px",...e&&{display:"none"}},children:(0,t.jsx)(f.Z,{})}),(0,t.jsxs)(x.Z,{component:"h1",variant:"h6",color:"inherit",noWrap:!0,sx:{flexGrow:1},children:[null==a?void 0:a.name," - Admin Dashboard(Users)"]}),(0,t.jsx)(m.Z,{color:"inherit",children:(0,t.jsx)(j.Z,{badgeContent:4,color:"secondary",children:(0,t.jsx)(w.Z,{})})})]})}),(0,t.jsxs)(E,{variant:"permanent",open:e,children:[(0,t.jsx)(u.Z,{sx:{display:"flex",alignItems:"center",justifyContent:"flex-end",px:[1]},children:(0,t.jsx)(m.Z,{onClick:toggleDrawer,children:(0,t.jsx)(Z.Z,{})})}),(0,t.jsx)(g.Z,{}),(0,t.jsxs)(p.Z,{component:"nav",children:[(0,t.jsx)(b.default,{}),(0,t.jsx)(g.Z,{sx:{my:1}})]})]}),(0,t.jsxs)(d.Z,{component:"main",sx:{backgroundColor:e=>"light"===e.palette.mode?e.palette.grey[100]:e.palette.grey[900],flexGrow:1,height:"100vh",overflow:"auto"},children:[(0,t.jsx)(u.Z,{}),(0,t.jsx)(v.default,{})]})]})})}},91782:function(e,r,n){"use strict";n.r(r),n.d(r,{default:function(){return AllUsersInformation}});var t=n(85893),s=n(67294),a=n(90629),i=n(7906),o=n(295),l=n(53252),c=n(72882),d=n(53184),h=n(45347),u=n(53816),p=n(39536),x=n(11163),g=n(61202);let m=[{id:"name",label:"Name",minWidth:100},{id:"email",label:"Email",minWidth:100},{id:"address",label:"Address",minWidth:100,format:e=>e.toLocaleString("en-US")},{id:"phone",label:"Phone Number",minWidth:100}];function AllUsersInformation(){let[e]=s.useState(()=>localStorage.getItem("adminToken")),r=new p.Z("/admin",e),n=(0,x.useRouter)(),[j,f]=s.useState(0),[Z,w]=s.useState(5),[b,v]=s.useState(null),[y,S]=s.useState(null),[k,E]=s.useState(null),fetchUsersInfo=async()=>{try{let{error:e,response:n}=await r.get("/all_users");if(e)throw Error(e);v(n)}catch(e){console.log(e.message)}};s.useEffect(()=>{try{let r=(0,g.o)(e);E(r),fetchUsersInfo()}catch(e){console.log(e),n.push("https://gocab.vercel.app/admin/login")}},[e]);let[P,C]=s.useState(!1),handleOpeDriverModal=e=>{S(e),C(!0)};return(0,t.jsx)(t.Fragment,{children:(0,t.jsxs)(a.Z,{sx:{width:"100%",overflow:"hidden"},children:[(0,t.jsx)(c.Z,{sx:{maxHeight:440},children:(0,t.jsxs)(i.Z,{stickyHeader:!0,"aria-label":"sticky table",children:[(0,t.jsx)(d.Z,{children:(0,t.jsx)(u.Z,{style:{background:"black"},children:m.map(e=>(0,t.jsx)(l.Z,{style:{minWidth:"100"},children:e.label},e.id))})}),(0,t.jsx)(o.Z,{children:b&&b.slice(j*Z,j*Z+Z).map((e,r)=>(0,t.jsxs)(u.Z,{hover:!0,role:"checkbox",tabIndex:-1,onClick:()=>handleOpeDriverModal(e),children:[(0,t.jsx)(l.Z,{children:e.name}),(0,t.jsx)(l.Z,{children:e.email}),(0,t.jsx)(l.Z,{children:e.address}),(0,t.jsx)(l.Z,{children:e.phone})]},r))})]})}),(0,t.jsx)(h.Z,{rowsPerPageOptions:[5,10,25,50,100],component:"div",count:null==b?void 0:b.length,rowsPerPage:Z,page:j,onPageChange:(e,r)=>{f(r)},onRowsPerPageChange:e=>{w(+e.target.value),f(0)}})]})})}}},function(e){e.O(0,[9726,7739,8961,4724,1159,6325,6374,1687,5932,9774,2888,179],function(){return e(e.s=12374)}),_N_E=e.O()}]);