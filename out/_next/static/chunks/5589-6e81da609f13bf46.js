"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5589],{93946:function(e,t,o){o.d(t,{Z:function(){return v}});var r=o(63366),a=o(87462),n=o(67294),s=o(63961),i=o(94780),l=o(41796),c=o(90948),d=o(71657),u=o(47739),p=o(98216),h=o(1588),g=o(34867);function getIconButtonUtilityClass(e){return(0,g.Z)("MuiIconButton",e)}let m=(0,h.Z)("MuiIconButton",["root","disabled","colorInherit","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","edgeStart","edgeEnd","sizeSmall","sizeMedium","sizeLarge"]);var b=o(85893);let f=["edge","children","className","color","disabled","disableFocusRipple","size"],useUtilityClasses=e=>{let{classes:t,disabled:o,color:r,edge:a,size:n}=e,s={root:["root",o&&"disabled","default"!==r&&`color${(0,p.Z)(r)}`,a&&`edge${(0,p.Z)(a)}`,`size${(0,p.Z)(n)}`]};return(0,i.Z)(s,getIconButtonUtilityClass,t)},Z=(0,c.ZP)(u.Z,{name:"MuiIconButton",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:o}=e;return[t.root,"default"!==o.color&&t[`color${(0,p.Z)(o.color)}`],o.edge&&t[`edge${(0,p.Z)(o.edge)}`],t[`size${(0,p.Z)(o.size)}`]]}})(({theme:e,ownerState:t})=>(0,a.Z)({textAlign:"center",flex:"0 0 auto",fontSize:e.typography.pxToRem(24),padding:8,borderRadius:"50%",overflow:"visible",color:(e.vars||e).palette.action.active,transition:e.transitions.create("background-color",{duration:e.transitions.duration.shortest})},!t.disableRipple&&{"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.action.activeChannel} / ${e.vars.palette.action.hoverOpacity})`:(0,l.Fq)(e.palette.action.active,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"start"===t.edge&&{marginLeft:"small"===t.size?-3:-12},"end"===t.edge&&{marginRight:"small"===t.size?-3:-12}),({theme:e,ownerState:t})=>{var o;let r=null==(o=(e.vars||e).palette)?void 0:o[t.color];return(0,a.Z)({},"inherit"===t.color&&{color:"inherit"},"inherit"!==t.color&&"default"!==t.color&&(0,a.Z)({color:null==r?void 0:r.main},!t.disableRipple&&{"&:hover":(0,a.Z)({},r&&{backgroundColor:e.vars?`rgba(${r.mainChannel} / ${e.vars.palette.action.hoverOpacity})`:(0,l.Fq)(r.main,e.palette.action.hoverOpacity)},{"@media (hover: none)":{backgroundColor:"transparent"}})}),"small"===t.size&&{padding:5,fontSize:e.typography.pxToRem(18)},"large"===t.size&&{padding:12,fontSize:e.typography.pxToRem(28)},{[`&.${m.disabled}`]:{backgroundColor:"transparent",color:(e.vars||e).palette.action.disabled}})}),y=n.forwardRef(function(e,t){let o=(0,d.Z)({props:e,name:"MuiIconButton"}),{edge:n=!1,children:i,className:l,color:c="default",disabled:u=!1,disableFocusRipple:p=!1,size:h="medium"}=o,g=(0,r.Z)(o,f),m=(0,a.Z)({},o,{edge:n,color:c,disabled:u,disableFocusRipple:p,size:h}),y=useUtilityClasses(m);return(0,b.jsx)(Z,(0,a.Z)({className:(0,s.Z)(y.root,l),centerRipple:!0,focusRipple:!p,disabled:u,ref:t,ownerState:m},g,{children:i}))});var v=y},24962:function(e){e.exports={apiKey:"AIzaSyAX3CiXCx5ZW0N3Kh5Jn-VnGJZhSQTRRCw",authDomain:"gocab-3ba80.firebaseapp.com",databaseURL:"https://gocab-3ba80-default-rtdb.firebaseio.com",projectId:"gocab-3ba80",storageBucket:"gocab-3ba80.appspot.com",messagingSenderId:"463821131261",appId:"1:463821131261:web:e2330f002addc9d7911d94",measurementId:"G-212H0C4M2G"}},39536:function(e,t){t.Z=class{async get(e){try{let t=await fetch("/v1"+this.baseURL+e,{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(this.token)}});if(!t.ok){let e=await t.json();throw Error(e.msg)}let o=await t.json();return{response:o.msg,error:null}}catch(e){return{response:null,error:e.message}}}async post(e,t){try{let o=await fetch("/v1"+this.baseURL+e,{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(this.token)},body:JSON.stringify(t)});if(!o.ok){let e=await o.json();throw Error(e.msg)}let r=await o.json();return{response:r.msg,error:null}}catch(e){return{response:null,error:e.message}}}async delete(e){try{let t=await fetch("/v1"+this.baseURL+e,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(this.token)}});if(!t.ok){let e=await t.json();throw Error(e.msg)}let o=await t.json();return{response:o.msg,error:null}}catch(e){return{response:null,error:e.message}}}constructor(e,t=""){this.baseURL=e,this.token=t}}},9121:function(e,t,o){o.r(t);var r=o(85893);o(67294),o(83977),o(24962),o(51019);var a=o(87357),n=o(90629),s=o(78462),i=o(97212),l=o(59334),c=o(84808),d=o(55843),u=o(16628);let p={display:"block",marginBottom:"12px"},h={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:400,bgcolor:"background.paper",boxShadow:24,p:4};t.default=e=>{let{reportData:t,open:o,handleClose:g}=e;return(0,r.jsx)(d.Z,{"aria-labelledby":"transition-modal-title","aria-describedby":"transition-modal-description",open:o,onClose:g,closeAfterTransition:!0,slots:{backdrop:c.Z},slotProps:{backdrop:{timeout:500}},children:(0,r.jsx)(u.Z,{in:o,children:(0,r.jsx)(a.Z,{sx:h,children:(0,r.jsx)(n.Z,{children:(0,r.jsx)(s.Z,{children:t?(0,r.jsxs)(i.ZP,{style:p,children:[(0,r.jsx)(l.Z,{primary:"Email",secondary:"".concat(t.email)}),(0,r.jsx)(l.Z,{primary:"Subject",secondary:"".concat(t.subject)}),(0,r.jsx)("hr",{}),(0,r.jsx)(l.Z,{primary:"Messages",secondary:"".concat(t.message)})]}):null})})})})})}},73084:function(e,t,o){o.r(t),o.d(t,{default:function(){return AllReportsInformation}});var r=o(85893),a=o(67294),n=o(90629),s=o(7906),i=o(295),l=o(53252),c=o(72882),d=o(53184),u=o(45347),p=o(53816),h=o(39536),g=o(11163);o(49704);var m=o(61202),b=o(9121);let f=[{id:"email",label:"Email",minWidth:100},{id:"subject",label:"Subject",minWidth:100,format:e=>e.toLocaleString("en-US")},{id:"message",label:"Messages",minWidth:100}];function AllReportsInformation(){let[e]=a.useState(()=>localStorage.getItem("adminToken")),t=new h.Z("/admin",e),o=(0,g.useRouter)(),[Z,y]=a.useState(0),[v,j]=a.useState(5),[x,k]=a.useState(null),[w,R]=a.useState(null),[S,C]=a.useState(null),fetchreportInfo=async()=>{try{let{error:e,response:o}=await t.get("/all_reports");if(console.log(o),e)throw Error(e);k(o)}catch(e){console.log(e.message)}};a.useEffect(()=>{try{let t=(0,m.o)(e);C(t),fetchreportInfo()}catch(e){console.log(e),o.push("/admin/login")}},[e]);let[I,z]=a.useState(!1),handleOpenReportModal=e=>{R(e),z(!0)};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(n.Z,{sx:{width:"100%",overflow:"hidden"},children:[(0,r.jsx)(c.Z,{sx:{maxHeight:440},children:(0,r.jsxs)(s.Z,{stickyHeader:!0,"aria-label":"sticky table",children:[(0,r.jsx)(d.Z,{children:(0,r.jsx)(p.Z,{style:{background:"black"},children:f.map(e=>(0,r.jsx)(l.Z,{style:{minWidth:"100"},children:e.label},e.id))})}),(0,r.jsx)(i.Z,{children:x&&x.slice(Z*v,Z*v+v).map((e,t)=>(0,r.jsxs)(p.Z,{hover:!0,role:"checkbox",tabIndex:-1,onClick:()=>handleOpenReportModal(e),children:[(0,r.jsx)(l.Z,{children:e.email}),(0,r.jsx)(l.Z,{children:e.subject}),(0,r.jsx)(l.Z,{children:e.message})]},t))})]})}),(0,r.jsx)(u.Z,{rowsPerPageOptions:[5,10,25,50,100],component:"div",count:null==x?void 0:x.length,rowsPerPage:v,page:Z,onPageChange:(e,t)=>{y(t)},onRowsPerPageChange:e=>{j(+e.target.value),y(0)}})]}),w&&(0,r.jsx)(b.default,{open:I,reportData:w,handleClose:()=>z(!1)})]})}}}]);